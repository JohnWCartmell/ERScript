<?xml version="1.0" encoding="UTF-8"?>
<diagram:diagram xmlns="http://www.entitymodelling.org/diagram"
                 xmlns:diagram="http://www.entitymodelling.org/diagram"
                 xmlns:era="http://www.entitymodelling.org/ERmodel"
                 xmlns:file="http://expath.org/ns/file"
                 xmlns:fn="http://www.w3.org/2005/xpath-functions"
                 xmlns:math="http://www.w3.org/2005/xpath-functions/math"
                 xmlns:svg="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/TR/xlink"
                 xmlns:xs="http://www.w3.org/2001/XMLSchema">
   <method>era</method>
   <include>
      <filename>file:///C:/Users/John/Documents/Cloudwork/BuildArea/ERScript/scripts/../flexDiagramming/methods/era/xml/eraFlexStyleDefinitions.xml</filename>
   </include>
   <default>
      <hmin>0.1</hmin>
      <wmin>2.0</wmin>
      <margin>0.1</margin>
      <padding>0.15</padding>
      <packing>horizontal</packing>
      <text_style>normal</text_style>
      <shape_style>outline</shape_style>
      <debug-whitespace>false</debug-whitespace>
      <end_style>testline</end_style>
   </default>

   <enclosure>
      <compositionalDepth>0</compositionalDepth>
      <id>abs</id>
      <shape_style>etodd</shape_style>
      <x><relative><offset>0</offset></relative><abs>0</abs></x>  <!-- OMG need relative addressing to get dfiagram/w calcualted!-->
      <y><relative><offset>0</offset></relative><abs>0</abs></y>
      <h>0.3</h>
      <wFill/>
   </enclosure>
<enclosure>
   <id>test outer most xxxx</id>
   <shape_style>group_outline</shape_style>
   <x><abs>0</abs></x>
   <y><abs>1</abs></y>
   <wr>0</wr>
   <enclosure>
      <compositionalDepth>0</compositionalDepth>
      <id>department</id>
      <shape_style>etodd</shape_style>
      <margin>0</margin>
      <label>
         <text_style>classname</text_style>
         <x><at><centre/><parent/></at></x>
         <y><at><top/><parent/></at></y>
         <padding>0.05</padding>
      </label>
      <enclosure>
         <id>department_name_stripe</id>
         <shape_style>box</shape_style>
         <x><at><offset>0</offset></at></x>
         <y><at><offset>0</offset></at></y>
         <h>0.3</h>
         <padding>0</padding>
         <margin>0.2</margin>
         <wFill/>
      </enclosure>
      <enclosure>
         <id>department_attribute_box</id>
         <shape_style>box</shape_style>
         <x><at><offset>0</offset></at></x>
         <padding>0</padding>
         <margin>0.15</margin>
         <default><padding>0</padding></default>
         <label>
            <text>-name</text>
            <text_style>attrname</text_style>
            <x><at><left/><parent/></at></x>
         </label>
      </enclosure>
      <!-- <x><abs>3.0</abs></x> -->
      <x><at><centre/><parent/></at></x> 
   </enclosure>
   <enclosure>
      <id>container</id>
      <shape_style>group_outline</shape_style>
      <padding>0</padding>
      <margin>0</margin>
      <y>
         <passtwoA/>
         <place>
            <top/>
         </place>
         <at>
            <bottom/>
            <of>department</of>
         </at>
         <delta>1</delta>
      </y>
      <x>
         <passfourAA/>
         <place>
            <centre/>
         </place>
         <at>
            <centre/>
            <!-- <of>department</of> -->
            <parent/>
         </at>
      </x>
      <enclosure>
         <compositionalDepth>1</compositionalDepth>
         <id>student</id>
         <shape_style>etodd</shape_style>
         <padding>0.15</padding>
         <margin>0</margin>
         <label>
            <text_style>classname</text_style>
            <x><at><centre/><parent/></at></x>
            <y><at><top/><parent/></at></y>
            <padding>0.05</padding>
         </label>
         <enclosure>
            <id>student_name_stripe</id>
            <shape_style>box</shape_style>
            <x><at><offset>0</offset></at></x>
            <y><at><offset>0</offset></at></y>
            <h>0.3</h>
            <padding>0</padding>
            <margin>0.2</margin>
            <wFill/>
         </enclosure>
         <enclosure>
            <id>student_attribute_box</id>
            <shape_style>box</shape_style>
            <x><at><offset>0</offset></at></x>
            <padding>0</padding>
            <margin>0.15</margin>
            <default><padding>0</padding></default>
            <label>
               <text>-name : string</text>
               <text_style>attrname</text_style>
            </label>
         </enclosure>
         <enclosure>
            <id>student_methods_box</id>
            <shape_style>box</shape_style>
            <x><at><offset>0</offset></at></x>
            <y><at><bottom/><edge/><parent/></at></y>
            <h>0.07</h>
            <padding>0</padding>
            <margin>0</margin>
            <wFill/>
         </enclosure>
      </enclosure>
      <enclosure>
         <compositionalDepth>1</compositionalDepth>
         <id>professor</id>
         <shape_style>etodd</shape_style>
         <margin>0</margin>
         <label>
            <text_style>classname</text_style>
            <x><at><centre/><parent/></at></x>
            <y><at><top/><parent/></at></y>
            <padding>0.05</padding>
         </label>
         <enclosure>
            <id>professor_name_stripe</id>
            <shape_style>box</shape_style>
            <x><at><offset>0</offset></at></x>
            <y><at><offset>0</offset></at></y>
            <h>0.3</h>
            <padding>0</padding>
            <margin>0.2</margin>
            <wFill/>
         </enclosure>
         <enclosure>
            <id>professor_attribute_box</id>
            <shape_style>box</shape_style>
            <x><at><offset>0</offset></at></x>
            <padding>0</padding>
            <margin>0.15</margin>
            <default><padding>0</padding></default>
            <label>
               <text>-nameppp</text>
               <text_style>attrname</text_style>
            </label>
                     <label>
               <text>-nameqqq</text>
               <text_style>attrname</text_style>
            </label>
         </enclosure>
         <y>
            <passtwoA/>
            <place>
               <top/>
            </place>
            <at>
               <top/>
               <of>student</of>
            </at>
         </y>
         <x source="EREmodel.flex_pass_two_module.xslt" rule="Rule x6B">
            <passfourB/>
            <place>
               <left/>
            </place>
            <passfourB-7May25/>
            <at>
               <right/>
               <outer/>
               <of>student</of>
            </at>
         </x>
      </enclosure>
   </enclosure>
</enclosure>
   <route>
      <text_style>relname</text_style>
      <top_down/>
      <source>
         <id>department</id>
         <!-- <annotation>required?</annotation> -->
         <line_style>dashedline</line_style>
         <abstract>department</abstract>
         <exitContainer>department</exitContainer>
         <endline><marker>hollowDiamond</marker></endline>
         <bottom_edge>
            <deltax>0.35</deltax>
            <annotate_left/>
         </bottom_edge>
      </source>
      <destination>
         <id>student</id>
         <annotation>studentsxx</annotation>
         <line_style>solidline</line_style>
         <abstract>student</abstract>
         <trace>
            <id>student</id>
         </trace>
         <entryContainer>student</entryContainer>
         <top_edge>
            <deltax>1.8</deltax>
            <annotate_left/> 
         </top_edge>
      </destination>
       <path>
         <point>
            <startpoint/>
            <y>
               <at><bottom/><edge/><of>department</of></at>
            </y>
            <label>
               <text>xzzzz</text>
            </label>
         </point>
         <!-- <ns><startarm/></ns> -->
         <ramp/>
         <point>
            <endpoint/>
            <y>
               <at><top/><edge/><of>student</of></at>
            </y>
            <label>
               <!-- <text>students</text> --> 
               <!-- text rule is defined in diagram..route.path.point.label-+text -->
               <!-- <x><place><right/><edge/></place><at><left/><parent/></at></x> -->
            </label>
            <label>
               <!-- <text>0..*</text> --> <!-- test whether label is duplicated -->
               <x><place><left/><edge/></place><at><parent/><offset>0.2</offset></at></x>
               <!-- (strangely) no default for offset therefore need specify -->
            </label>
         </point>
      </path>
   </route>
   <route>
      <text_style>relname</text_style>
      <top_down/>
      <source>
         <id>department</id>
         <!-- <annotation>required?</annotation> -->
         <line_style>dashedline</line_style>
         <abstract>department</abstract>
         <exitContainer>department</exitContainer>
         <endline><marker>hollowDiamond</marker></endline>
      </source>
      <destination>
         <id>professor</id>
         <annotation>on staff of</annotation>
         <line_style>solidline</line_style>
         <abstract>professor</abstract>
         <trace>
            <id>professor</id>
         </trace>
         <entryContainer>professor</entryContainer>
      </destination>
   </route>
   <route>
      <text_style>relname</text_style>
      <sideways/>
      <source>
         <id>student</id>
         <annotation>advised_by</annotation>
         <line_style>dashedline</line_style>
         <abstract>student</abstract>
         <exitContainer>student</exitContainer>
      </source>
      <destination>
         <line_style>dashedline</line_style>
         <id>professor</id>
         <annotation>advising</annotation>
         <abstract>professor</abstract>
         <trace>
            <id>professor</id>
         </trace>
         <entryContainer>professor</entryContainer>
      </destination>
   </route>
</diagram:diagram>