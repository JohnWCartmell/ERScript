<diagram xmlns="http://www.entitymodelling.org/diagram" xmlns:diagram="http://www.entitymodelling.org/diagram" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <include>
    <filename>../src_xtests/shared/text_style_definitions.xml</filename>
  </include>
  <include>
    <filename>../src_xtests/shared/shape_style_definitions.xml</filename>
  </include>
  <default>
    <hmin>1.0</hmin>
    <wmin>1.0</wmin>
    <margin>0.2</margin>
    <padding>0.15</padding>
    <packing>horizontal</packing>
    <text_style>normal</text_style>
    <shape_style>outline</shape_style>
    <debug-whitespace>true</debug-whitespace>
  </default>
    <enclosure>
       <x><local>0</local></x>
	   <y><abs>2.0</abs></y>
	   <h>6.5</h>
	  <shape_style>gradient</shape_style>
	  <debug-whitespace>false</debug-whitespace>
	  <margin>1.0</margin>
	  <label>
		<text>Example 1: Nested boxes A2 has position specified by:</text>
	  </label>
	  <label>
		<text><![CDATA[
		   <x><at><right/><of>A1</of></at></x>
		]]></text>
	  </label>
	  <label>
		<text><![CDATA[
		  <y><at><bottom/><of>A1</of></at>
		]]></text>
	  </label>
	  <label>
		<text>A3 similar in relation to A2.</text>
	  </label>	  
	  <enclosure>
		<id>A</id>
		<x>
		  <relative>
			<offset>11</offset>
		  </relative>
		</x>
		<label/>
		<enclosure>
		  <id>A1</id>
		  <label/>
		</enclosure>
		<enclosure>
		  <id>A2</id>
		  <x>
			<at>
			  <right/>
			  <of>A1</of>
			</at>
		  </x>
		  <y>
			<at>
			  <bottom/>
			  <of>A1</of>
			</at>
		  </y>
		 <label/>
		</enclosure>
		<enclosure>
		  <id>A3</id>
		  <x>
			<at>
			  <right/>
			  <of>A2</of>
			</at>
		  </x>
		  <y>
			<at>
			  <bottom/>
			  <of>A2</of>
			</at>
		  </y>
		  <label/>
		</enclosure>
	  </enclosure>
  </enclosure>
  
  <enclosure>
      <x><local>0</local></x>
	  <h>6.5</h>
	  <shape_style>gradient</shape_style>
	  <debug-whitespace>false</debug-whitespace>
	  <margin>1.0</margin>
	  <label>
		<id>example2</id>
		<x><relative><offset>1.0</offset></relative></x>
		<!--<y><local>1.2</local></y> -->
		<text>Example 2 Nested box B2 has position  specified by:</text>
	  </label>
	  <label>
		<text><![CDATA[<x><place><right/></place><at><left/><of>B1</of></at></x>]]></text>
      </label>
	  <label>
	    <text><![CDATA[<y><place><bottom/></place><at><top/><of>B1</of></at></y>]]></text>
	  </label>
	  	  <label>
		<text>B3 similar in relation to B2.</text>
	  </label>
	  <label>
		<text>Bug revealed if B y dedined in relation to A - see source code.</text>
	  </label>
  
	  <enclosure>
		<id>B</id>
		<x>
		  <relative>
			<offset>10</offset>
		  </relative>
		</x>
		<!-- Bug revealed if we include this
		<y>
		  <at>
			  <bottom/>
			  <of>A</of>		  
		  </at>
		  <delta>1.0</delta>
		</y>
		-->
		<h>5.0</h>
		<label/>
		<enclosure>
		  <id>B1</id>
		  <x>
			<relative>
			  <offset>4.0</offset>
			</relative>
		  </x>
	       <y>
			<relative><offset>3.5</offset></relative>
		  </y>
		  <label/>
		</enclosure>
		<enclosure>
		  <id>B2</id>
		  <x>
		    <place><right/></place>
			<at>
			  <left/>
			  <of>B1</of>
			</at>
		  </x>
		  <y>
		    <place><bottom/></place>
			<at>
			  <top/>
			  <of>B1</of>
			</at>
		  </y>
		  <label/>
		</enclosure>
		<enclosure>
		  <id>B3</id>
		  <x>
		    <place><right/></place>
			<at>
			  <left/>
			  <of>B2</of>
			</at>
		  </x>
		  <y>
		     <place><bottom/></place>
			 <at>
			  <top/>
			  <of>B2</of>
			</at>
		  </y>
		  <label/>
		</enclosure>
	  </enclosure>
    </enclosure>
</diagram>