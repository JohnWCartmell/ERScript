<!-- 
****************************************************************
ERmodel_v1.2/src/ERmodelERmodel.xml 
****************************************************************

Copyright 2016, 2107 Cyprotex Discovery Ltd.

This file is part of the the ERmodel suite of models and transforms.

The ERmodel suite is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

ERmodel suite is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.
****************************************************************
-->

<!--
******************
ERmodelERmodel.xml
******************

DESCRIPTION
   The ER meta-model i.e. the ER model of an ER model.

DISCUSSION
   ER models are enriched by transformations filling in missing pieces from
   defaults or by derivation. Some derived attributes are modelled here 
   but some are not.


CHANGE HISTORY

CR-18123 JC 25-Oct-2016 Generalise the derived attributes src and dest to 
                        the navigation entity type. 
                        Remove the 'base' relationship.
                        This maintenance box added.
CR-18605 JC 04-Nov-2016 Add 'namespace_uri' attribute to xml entity type.
CR-18712 JC 14-Nov-2016 Introduce entity type 'reference_or_dependency'
                        and use as the destination type of relationship
                        implmentationOf.rel.
CR-18804 JC 16-Dec-2016 Remove composition/pullback/riser2 
                         and composition/copy/projection_rel
-->


<entity_model xmlns="http://www.entitymodelling.org/ERmodel">
  <absolute>
    <name>entity_model</name>
    <presentation>
        <x>25</x>
        <y>23</y>
    </presentation>
    <composition>
      <type>entity_type_like</type>
      <cardinality>ZeroOneOrMore</cardinality>
      <diagram>
        <path>
          <destattach>0.66</destattach>
        </path>
      </diagram>
    </composition>
    <composition>
      <type>absolute</type>
      <cardinality>ExactlyOne</cardinality>
    </composition>
    <composition>
      <cardinality>ZeroOneOrMore</cardinality>
      <type>enumeration_type</type>
    </composition>
    <composition>
      <name>presentation</name>
      <cardinality>ZeroOrOne</cardinality>
      <type>diagram</type>
    </composition>
    <composition>
      <cardinality>ZeroOrOne</cardinality>
      <type>defaults</type>
    </composition>
    <composition>
      <cardinality>ZeroOrOne</cardinality>
      <type>xml</type>
    </composition>
  </absolute>
  <xml>
      <namespace_uri>http://www.entitymodelling.org/ERmodel</namespace_uri>
  </xml>
  <entity_type>
    <name>diagram</name>
    <presentation>
        <rightOf>enumeration_type</rightOf>
        <x>1.3</x>
    </presentation>
    <value>
        <name>deltaw</name>
        <type>string</type>
        <optional/>
    </value>
    <value>
        <name>deltah</name>
        <type>string</type>
        <optional/>
    </value>
  </entity_type>
  <entity_type>
    <name>defaults</name>
    <presentation>
        <rightOf>diagram</rightOf>
    </presentation>
    <value>
        <name>et_width</name>
        <type>string</type>
        <optional/>
    </value>
    <value>
        <name>et_height</name>
        <type>string</type>
        <optional/>
    </value>
    <value>
        <name>et_y_separation</name>
        <type>string</type>
        <optional/>
    </value>
    <value>
        <name>et_y_delta_separation</name>
        <type>string</type>
        <optional/>
    </value>
  </entity_type>
  <entity_type>
    <name>xml</name>
    <presentation>
        <rightOf>defaults</rightOf>
    </presentation>
    <value>
       <name>namespace_uri</name>
       <type>string</type>
       <optional/>
    </value>
    <choice>
        <name>attributeDefault</name>
        <from>xmlAttributeRepresentation</from>
        <optional/>
    </choice>
  </entity_type>
  <entity_type>
    <name>ENTITY_TYPE</name>
    <presentation>
        <x>2.5</x>
        <y>1.3</y>
        <deltaw>5.0</deltaw>
        <deltah>0.1</deltah>
    </presentation>
    <entity_type>
      <name>absolute</name>
      <presentation>
         <rightOf>entity_type_like</rightOf>
      </presentation>
    </entity_type>
    <entity_type>
      <name>entity_type_like</name>
      <presentation>
          <x>2.5</x>
          <y>0.5</y>
       
      </presentation>
      <dependency_group>
      </dependency_group>
      <entity_type>
         <name>entity_type</name>
         <choice>
           <name>xmlRepresentation</name>
           <optional/>
           <from>xmlEntityRepresentation</from>
         </choice>
         <presentation>
            <w>2.6</w>
            <h>1.0</h>
        </presentation>
      </entity_type>
      <entity_type>
         <name>group</name>
         <presentation><rightOf>entity_type</rightOf></presentation>
         <value>
             <name>annotation</name>
             <type>string</type>
             <optional/>
         </value>
      </entity_type>
      <composition>
        <cardinality>ZeroOneOrMore</cardinality>
        <type>entity_type_like</type>
        <diagram>
          <path>
            <srcarmlen>0.2</srcarmlen>
            <srcattach>0.33</srcattach>
            <destattach>0.33</destattach>
            <hstep>
              <absdim>
                <src>-2.0</src>
              </absdim>
            </hstep>
          </path>
        </diagram>
      </composition>
    </entity_type>
    <value>
      <name>name</name>
      <type>string</type>
      <identifying/>
    </value>
    <value>
      <name>description</name>
      <type>string</type>
      <optional/>
    </value>
    <value>
      <name>xpath</name>
      <type>string</type>
      <optional/>
    </value>
    <value>
      <name>module_name</name>
      <type>string</type>
      <optional/>
    </value>
    <composition>
      <cardinality>ZeroOrOne</cardinality>
      <type>presentation</type>
      <diagram>
         <path>
            <destattach>0.5</destattach>
            <align>ToDest</align>
         </path>
      </diagram>
    </composition>
    <composition>
      <cardinality>ZeroOneOrMore</cardinality>
      <type>dependency_group</type>
      <identifying/>
      <diagram>
        <path>
          <align>ToSrc</align>
          <srcattach>0.05</srcattach>
        </path>
      </diagram>
    </composition>
    <composition>
      <cardinality>ZeroOneOrMore</cardinality>
      <type>Relationship</type>
      <identifying>
           <inherited/>
      </identifying>
      <inverse>..</inverse>
      <diagram>
        <path>
          <align>ToSrc</align>
        </path>
      </diagram>
    </composition>
    <composition>
      <cardinality>ZeroOneOrMore</cardinality>
      <type>Attribute</type>
      <identifying>
           <inherited/>
      </identifying>
      <inverse>..</inverse>
    </composition>
  </entity_type>
  <entity_type>
    <name>Attribute</name>
    <presentation>
        <rightOf>Relationship</rightOf>
        <below>enumeration_value</below>
    </presentation>
    <dependency>
        <name>..</name>
        <type>ENTITY_TYPE</type>
        <cardinality>ExactlyOne</cardinality>
    </dependency>
    <entity_type>
      <name>value</name>
      <presentation>
          <deltaw>1.5</deltaw>
      </presentation>
      <choice>
        <name>type</name>
        <from>ValueType</from>
      </choice>
    </entity_type>
    <entity_type>
      <name>choice</name>
      <presentation>
            <rightOf>value</rightOf>
            <y>-1.0</y>
      </presentation>
      <reference>
        <name>from</name>
        <cardinality>ExactlyOne</cardinality>
        <type>enumeration_type</type>
        <diagram>
           <path>
               <srcarmlen>0.8</srcarmlen>
               <destattach>0.8</destattach>
               <label><xAdjustment>0.4</xAdjustment></label>
           </path>
        </diagram>
      </reference>
    </entity_type>
    <composition>
      <cardinality>ZeroOrOne</cardinality>
      <type>implementationOf</type>
      <identifying/>
      <inverse>..</inverse>
      <diagram>
         <path>
            <srcattach>0.2</srcattach>
         </path>
      </diagram>
    </composition>
    <composition>
      <cardinality>ZeroOrOne</cardinality>
      <type>identifying(2)</type>
      <identifying/>
      <diagram>
         <path>
            <destattach>0.66</destattach>
            <align>ToDest</align>
         </path>
      </diagram>
    </composition>
    <composition>
      <cardinality>ZeroOrOne</cardinality>
      <type>optional</type>
      <identifying/>
      <diagram>
         <path>
            <srcattach>0.8</srcattach>
         </path>
      </diagram>
    </composition>
    <composition>
      <cardinality>ZeroOrOne</cardinality>
      <type>deprecated</type>
      <identifying/>
      <diagram>
         <path>
            <srcattach>0.9</srcattach>
         </path>
      </diagram>
    </composition>
    <value>
      <name>name</name>
      <type>string</type>
      <identifying/>
    </value>
    <value>
      <name>description</name>
      <optional/>
      <type>string</type>
    </value>
    <choice>
      <name>xmlRepresentation</name>
      <optional/>
      <from>xmlAttributeRepresentation</from>
    </choice>
  </entity_type>
  <entity_type>
      <name>dependency_group</name>
      <presentation> 
           <xc><relative><to>ENTITY_TYPE</to><ratio>0</ratio><d>0.2</d></relative></xc>
           <yt><relative><to>ENTITY_TYPE</to><ratio>1</ratio><d>1.0</d></relative></yt>
          <name>Split</name>
      </presentation>
      <composition>
           <type>presentation</type>
           <cardinality>ZeroOrOne</cardinality>
           <diagram><path><align>ToSrc</align></path></diagram>
      </composition>
  </entity_type>
  <entity_type>
    <name>Relationship</name>
    <presentation>
        <rightOf>dependency_group</rightOf>
        <deltaw>0.5</deltaw>
        <deltah>1.5</deltah>
    </presentation>
    <dependency>
        <name>..</name>
        <type>ENTITY_TYPE</type>
        <cardinality>ExactlyOne</cardinality>
    </dependency>
    <entity_type>
       <name>reference_or_dependency</name>
       <presentation>
          <x>4.0</x>
          <y>-1.5</y>
          <deltah>0.3</deltah>
          <deltaw>1.6</deltaw>
       </presentation>
       <entity_type>
         <name>dependency</name>
         <presentation>
           <x>1.0</x>
           <y>0.5</y>
         </presentation>
         <reference>
            <name>inverse_of</name>
            <cardinality>ZeroOrOne</cardinality>
            <type>composition</type>
            <inverse>inverse</inverse>
         </reference>
       </entity_type>
       <entity_type>
         <name>reference</name>
         <presentation>
           <rightOf>dependency</rightOf>
           <y>-0.5</y>
           <w>6.0</w>
           <h>2.0</h>
         </presentation>
         <value>
              <name>js</name>
              <type>string</type>
              <optional/>
         </value>
         <value>
              <name>xpath_evaluate</name>
              <type>string</type>
              <optional/>
              <description>An xpath expression which can be used to evaluate this reference using primary keys and foreign keys. 
                           This attribute is generated by logical2physical unless it is hand coded in the logical.
              </description>
         </value>
         <reference>
            <name>inverse</name>
            <cardinality>ZeroOrOne</cardinality>
            <type>reference</type>
            <inverse>inverse</inverse>
            <diagonal>
                <component>
                   <!--<src>Relationship</src>-->
                   <rel>type</rel>
                </component>
            </diagonal>
            <riser>
                <component>
                   <!--<src>Relationship</src>-->
                   <rel>..</rel>
                </component>
            </riser>
            <diagram>
                  <path>
                      <srcarmlen>1.0</srcarmlen><srcattach>0.2</srcattach><destattach>0.2</destattach>
                      <scope><label><yAdjustment>-0.3</yAdjustment></label></scope>
                  </path>
            </diagram>
         </reference>
         <composition>
            <name>diagonal</name>
            <cardinality>ZeroOrOne</cardinality>
            <type>navigation</type>
            <diagram>
               <path>
                    <label><position>Left</position></label>
                    <srcattach>0.5</srcattach>
                    <align>ToSrc</align>
               </path>
            </diagram>
         </composition>
         <composition>
            <name>riser</name>
            <cardinality>ZeroOrOne</cardinality>
            <type>navigation</type>
            <diagram>
               <path>
                     <srcattach>0.55</srcattach>
                    <align>ToSrc</align>
               </path>
            </diagram>
         </composition>
         <composition>
            <name>key</name>
            <cardinality>ZeroOrOne</cardinality>
            <type>navigation</type>
            <diagram>
               <path>
                     <srcattach>0.75</srcattach>
                     <align>ToSrc</align>
               </path>
            </diagram>
         </composition>
         <composition>
             <type>projection</type>
             <cardinality>ZeroOrOne</cardinality>
             <diagram>
                 <path>
                     <align>ToDest</align>
                 </path>
             </diagram>
         </composition>
       </entity_type>
    </entity_type>
    <entity_type>
      <name>constructed_relationship</name>
      <presentation>
         <below>reference</below>
         <x>-2.0</x>
         <y>0.5</y>
         <w>2.0</w>
         <name>Split</name>
      </presentation>
      <reference>
         <name>inverse</name>
         <cardinality>ZeroOrOne</cardinality>
         <type>constructed_relationship</type>
         <inverse>inverse</inverse>
         <diagram><path><srcarmlen>1.0</srcarmlen></path></diagram>
      </reference>
      <composition>
         <type>navigation</type>
         <cardinality>ExactlyOne</cardinality>
         <diagram>
             <path>
                <align>ToDest</align>
                <destattach>0.3</destattach>
             </path>
         </diagram>
      </composition>
    </entity_type>
    <entity_type>
      <name>composition</name>
      <presentation>
        <below>dependency</below>
        <x>-0.5</x>
        <y>2.5</y>
        <w>1.8</w>
      </presentation>
      <reference>
         <name>inverse</name>
         <cardinality>ZeroOrOne</cardinality>
         <type>dependency</type>
         <inverse>inverse_of</inverse>
         <diagram>
             <path>
                 <srcsign>-1</srcsign>
                 <destsign>-1</destsign>
                 <hstep><absdim><src>-0.2</src></absdim></hstep>
                 <label><position>Downside</position></label>
                 <inverse><label><position>Upside</position><name>Split</name></label></inverse>
             </path>
           </diagram>
      </reference>
      <composition>
         <type>transient</type>
         <cardinality>ZeroOrOne</cardinality>
      </composition>
      <composition>
         <type>initialiser</type>
         <cardinality>ZeroOrOne</cardinality>
         <inverse>..</inverse>
         <diagram>
            <path>
               <destarmlen>1.1</destarmlen>
            </path>
          </diagram>
      </composition>
    </entity_type>
    <reference>
      <cardinality>ExactlyOne</cardinality>
      <name>type</name>
      <type>ENTITY_TYPE</type>
      <!-- <identifying/>  23 -Aug-2016 -->
      <diagram>
        <path>
          <srcattach>0.3</srcattach>
          <destattach>0.8</destattach>
          <srcarmlen>0.2</srcarmlen>
          <hstep>
            <absdim>
              <src>0.3</src>
            </absdim>
          </hstep>
        </path>
      </diagram>
    </reference>
<!-- CR-18123 
    <reference>
      <cardinality>ZeroOrOne</cardinality>
      <name>base</name>
      <type>ENTITY_TYPE</type>
      <diagram>
        <path>
          <srcattach>0.4</srcattach>
          <destattach>0.7</destattach>
          <srcarmlen>0.2</srcarmlen>
          <hstep>
            <absdim>
              <src>0.4</src>
            </absdim>
          </hstep>
        </path>
      </diagram>
    </reference>
-->
    <composition>
      <name>diagram</name>
      <type>path</type>
      <identifying/>
      <cardinality>ZeroOrOne</cardinality>
      <diagram><path><align>ToDest</align><label><position>Left</position></label></path></diagram>
    </composition>
    <composition>
      <type>sequence</type>
      <cardinality>ZeroOrOne</cardinality>
      <identifying/>
      <diagram><path><align>ToDest</align></path></diagram>
    </composition>
    <composition>
      <type>identifying(1)</type>
      <cardinality>ZeroOrOne</cardinality>
      <identifying/>
      <diagram><path><align>ToDest</align></path></diagram>
    </composition>
    <value>
      <name>name</name>
      <type>string</type>
      <identifying/>
      <optional/>
    </value>
    <choice>
        <name>cardinality</name>
        <from>Cardinality</from>
    </choice>
    <value>
      <name>description</name>
      <optional/>
      <type>string</type>
    </value>
    <value>
      <name>id</name>
      <optional/>
      <type>string</type>
    </value>
    <value>
      <name>scope</name>
      <optional/>
      <type>string</type>
    </value>
    <value>
      <name>physical_prefix</name>
      <optional/>
      <type>string</type>
    </value>
  </entity_type>

  <group>
     <name>presentation_group</name>
     <presentation>
           <xc><relative><to>Relationship</to><ratio>0</ratio><d>1.5</d></relative></xc>
           <yt><relative><to>Relationship</to><ratio>1</ratio><d>2.4</d></relative></yt>
     </presentation>
     <entity_type>
       <name>presentation</name>
       <presentation>
          <w>2.6</w>
       </presentation>
       <dependency_group>
          <presentation>
             <x>0.85</x>
             <deltaw>-0.4</deltaw>
          </presentation>
       </dependency_group>
       <value>
         <name>x</name>
         <type>float</type>
         <optional/>
       </value>
       <value>
         <name>y</name>
         <type>float</type>
         <optional/>
       </value>
       <value>
         <name>h</name>
         <type>float</type>
         <optional/>
       </value>
       <value>
         <name>w</name>
         <type>float</type>
         <optional/>
       </value>
       <value>
         <name>deltah</name>
         <type>float</type>
         <optional/>
       </value>
       <value>
         <name>deltaw</name>
         <type>float</type>
         <optional/>
       </value>
       <value>
         <name>sign</name>
         <type>float</type>
         <optional/>
       </value>
       <choice>
         <name>name</name>
         <from>Render</from>
         <optional/>
       </choice>
       <choice>
           <name>shape</name>
           <from>CustomShape</from>
           <optional/>
       </choice>
      <composition>
         <name>xl</name>
         <type>position</type>
         <cardinality>ZeroOrOne</cardinality>
         <diagram><path><align>ToSrc</align></path></diagram>
      </composition>
      <composition>
         <name>xc</name>
         <type>relative</type>
         <cardinality>ZeroOrOne</cardinality>
         <diagram><path><align>ToSrc</align></path></diagram>
      </composition>
      <composition>
         <name>xr</name>
         <type>relative</type>
         <cardinality>ZeroOrOne</cardinality>
         <diagram><path><align>ToSrc</align></path></diagram>
      </composition>
      <composition>
         <name>yt</name>
         <type>position</type>
         <cardinality>ZeroOrOne</cardinality>
         <diagram><path><align>ToSrc</align></path></diagram>
      </composition>
      <composition>
         <name>ym</name>
         <type>relative</type>
         <cardinality>ZeroOrOne</cardinality>
         <diagram><path><align>ToSrc</align></path></diagram>
      </composition>
      <composition>
         <name>yb</name>
         <type>relative</type>
         <cardinality>ZeroOrOne</cardinality>
         <diagram><path><align>ToSrc</align></path></diagram>
      </composition>
       <reference>
          <name>rightOf</name>
          <type>ENTITY_TYPE</type>
          <cardinality>ZeroOrOne</cardinality>
          <diagonal>
              <theabsolute/>
          </diagonal>
          <riser>
              <theabsolute/>
          </riser>
          <diagram><path><srcsign>-1</srcsign><srcarmlen>0.5</srcarmlen>
                      <destsign>-1</destsign>
                      <destattach>0.7</destattach>
                      <hstep><absdim><src>-0.6</src></absdim></hstep>
                </path>
          </diagram>
       </reference>
       <reference>
          <name>below</name>
          <type>ENTITY_TYPE</type>
          <cardinality>ZeroOrOne</cardinality>
          <diagonal>
              <theabsolute/>
          </diagonal>
          <riser>
              <theabsolute/>
          </riser>
          <diagram><path>
                      <srcsign>-1</srcsign><srcarmlen>0.9</srcarmlen>
                      <destsign>-1</destsign>
                      <hstep><absdim><src>-0.8</src></absdim></hstep> 
                </path>
          </diagram>
       </reference>
     </entity_type>

     <entity_type>
       <name>path</name>
       <presentation>
           <rightOf>presentation</rightOf>
           <w>3</w>
       </presentation>
       <composition>
         <type>label</type>
         <cardinality>ZeroOrOne</cardinality>
         <identifying/>
         <diagram><path><srcattach>0.1</srcattach><align>ToSrc</align></path></diagram>
       </composition>
       <composition>
         <name>inverse</name>
         <type>label</type>
         <identifying/>
         <cardinality>ZeroOrOne</cardinality>
         <diagram>
            <path>
               <srcattach>0.3</srcattach>
               <align>ToSrc</align>
               <label>
                   <xAdjustment>0.2</xAdjustment>
                </label>
            </path>
         </diagram>
       </composition>
       <composition>
         <name>id</name>
         <type>label</type>
         <cardinality>ZeroOrOne</cardinality>
         <identifying/>
         <diagram>
            <path>
               <srcattach>0.33</srcattach>
               <align>ToSrc</align>
               <label>
                   <xAdjustment>0.1</xAdjustment>
                   <yAdjustment>0.3</yAdjustment>
                </label>
            </path>
         </diagram>
       </composition>
       <composition>
         <name>scope</name>
         <type>label</type>
         <cardinality>ZeroOrOne</cardinality>
         <identifying/>
         <diagram>
            <path>
               <srcattach>0.36</srcattach>
               <align>ToSrc</align>
               <label>
                   <xAdjustment>0</xAdjustment>
                   <yAdjustment>0.6</yAdjustment>
                </label>
            </path>
         </diagram>
       </composition>
       <composition>
         <type>step</type>
         <cardinality>ZeroOrOne</cardinality>
         <diagram>
            <path>
               <srcattach>0.9</srcattach>
            </path>
         </diagram>
       </composition>
       <choice>
         <name>align</name>
         <from>SrcOrDest</from>
         <optional/>
       </choice>
       <value>
         <name>srcsign</name>
         <type>float</type>
         <optional/>
       </value>
       <value>
         <name>srcarmlen</name>
         <type>float</type>
         <optional/>
       </value>
       <value>
         <name>srcattach</name>
         <type>float</type>
         <optional/>
       </value>
       <value>
         <name>destsign</name>
         <type>float</type>
         <optional/>
       </value>
       <value>
         <name>destarmlen</name>
         <type>float</type>
         <optional/>
       </value>
       <value>
         <name>destattach</name>
         <type>float</type>
         <optional/>
       </value>
     </entity_type>
  </group>
     <entity_type>
       <name>sequence</name>
       <presentation>
           <xl><relative><to>Relationship</to></relative></xl>
           <yt><relative><to>Relationship</to><ratio>1</ratio><d>0.9</d></relative></yt>
       </presentation>
     </entity_type>
  <group>
     <name>righthand_children</name>
     <presentation>
         <xr><relative><to>reference_or_dependency</to><ratio>1.0</ratio></relative></xr>
         <rightOf>sequence</rightOf>
     </presentation>
     <entity_type>
        <name>projection</name>
        <presentation>
           <deltaw>-0.1</deltaw>
        </presentation>
     </entity_type>
     <entity_type>
       <name>identifying(1)</name>
       <presentation>
           <rightOf>projection</rightOf>
           <deltaw>-0.1</deltaw>
           <x>-0.75</x>
           <y>1</y>
       </presentation>
       <composition>
          <type>inherited</type>
          <cardinality>ZeroOrOne</cardinality>
       </composition>
     </entity_type>
     <entity_type>
       <name>inherited</name>
       <presentation>
           <below>identifying(1)</below>
           <y>0</y>
       </presentation>
     </entity_type>
  </group>
     <group>
        <name>composition_children</name>
        <presentation>
           <below>composition</below>
           <rightOf>sequence</rightOf>
        </presentation>
        <entity_type>
          <name>transient</name>
          <presentation>
          </presentation>
        </entity_type>
       <entity_type>
         <name>initialiser</name>
         <presentation>
             <rightOf>transient</rightOf>
             <x>0</x>
             <y>1.0</y>
         </presentation>
         <dependency>
             <name>..</name>
             <type>composition</type>
             <cardinality>ExactlyOne</cardinality>
         </dependency>
         <entity_type>
             <name>pullback</name>
            <reference>
              <name>projection_rel</name>
              <type>reference</type>
              <cardinality>ZeroOrOne</cardinality>
              <diagonal>
                  <join>
                     <component>
                         <rel>..</rel>
                     </component>
                     <component>
                         <rel>type</rel>
                     </component>
                  </join>
              </diagonal>
              <riser>
                  <component>
                      <rel>..</rel>
                  </component>
              </riser>
              <diagram>
                  <path>
                     <srcarmlen>0.6</srcarmlen>
                     <srcattach>0.2</srcattach>
                     <destsign>-1</destsign>
                     <destattach>0.75</destattach>
                     <label><position>Downside</position><xAdjustment>0.3</xAdjustment></label> 
                  </path>
              </diagram>
            </reference>
         </entity_type>
         <entity_type>
             <name>copy</name>
             <presentation><below>pullback</below></presentation>
             <composition>
               <name>riser2</name>
               <type>navigation</type>
               <cardinality>ExactlyOne</cardinality>
               <diagram>
                    <path>
                       <srcattach>0.7</srcattach>
                       <srcarmlen>0.5</srcarmlen>
                       <destattach>0.2</destattach>
                       <label><yAdjustment>0.3</yAdjustment></label>
                    </path>
               </diagram>
             </composition>
         </entity_type>
         <composition>
              <name>along</name>
              <type>navigation</type>
              <cardinality>ExactlyOne</cardinality>
              <diagram>
                <path>
                   <srcattach>0.3</srcattach>
                   <srcarmlen>0.6</srcarmlen>
                   <destattach>0.1</destattach>
                   <label><position>Left</position></label>
                </path>
           </diagram>
         </composition>
         <reference>
           <name>type</name>
           <type>ENTITY_TYPE</type>
           <cardinality>ExactlyOne</cardinality>
           <diagram>
               <path>
                  <srcattach>0.85</srcattach>
                  <destattach>0.5</destattach>
                  <label><position>Upside</position></label> 
                  <hstep><absdim><src>8.1</src></absdim></hstep>
               </path>
           </diagram>
         </reference>
       </entity_type>
     </group>
     <entity_type>
        <name>navigation</name>
        <presentation>
            <rightOf>initialiser</rightOf>
            <x>0</x>
            <y>4.0</y>
            <deltaw>1.0</deltaw>
        </presentation>
        <dependency_group>
           <presentation>
             <deltaw>0.4</deltaw>  <!-- not working! 15 Aug 2016 -->
           </presentation>
        </dependency_group>
        <value>
          <name>xpath_evaluate</name>
          <optional/>
          <type>string</type>
        </value>
        <entity_type>
          <name>complex</name>
          <presentation>
               <x>1.5</x>
          </presentation>
          <composition>
             <type>component</type>
             <cardinality>ZeroOneOrMore</cardinality>
             <sequence/>
          </composition>
          <entity_type>
            <name>join</name>
            <presentation>
               <w>1.8</w>
            </presentation>
          </entity_type>
          <entity_type>
            <name>aggregate</name>
            <presentation>
               <below>join</below>
               <w>1.8</w>
            </presentation>
          </entity_type>
        </entity_type>

        <entity_type>
           <name>component</name>
           <presentation>
               <below>complex</below>
               <w>1.5</w>
           </presentation>
           <reference>
              <name>rel</name>
              <type>Relationship</type>
              <cardinality>ExactlyOne</cardinality>
              <diagonal>
                  <component>
                   <!--   <src>navigation</src> --> <!-- TEMPORARY to implement inherited relationship -->
                      <rel>src</rel>
                  </component>
              </diagonal>
              <riser>
                  <component>
                      <rel>..</rel>
                  </component>
              </riser>
              <diagram>
                 <path>
                     <destattach>0.75</destattach>
                     <srcarmlen>0.3</srcarmlen>
                     <hstep>
                       <absdim>
                          <src>5.7</src>
                       </absdim>
                     </hstep>
                 </path>
              </diagram>
           </reference>



        </entity_type>
        <group>
          <name>component children</name>
          <presentation>
             <below>component</below>
             </presentation>
           <entity_type>
             <name>identity</name>
             <description>
                The identity navigation.
             </description>
           </entity_type>
           <entity_type>
             <name>theabsolute</name>
               <presentation>
                  <rightOf>identity</rightOf>
               </presentation>
             <description>
                A navigation to the ansolute.
             </description>
           </entity_type>
        </group>
           <reference>
              <name>src</name>
              <type>ENTITY_TYPE</type>
              <cardinality>ZeroOrOne</cardinality>
              <diagram>
                 <path>
                     <srcattach>0.8</srcattach>
                     <srcsign>1</srcsign>
                     <destattach>0.45</destattach>
                     <srcarmlen>0.9</srcarmlen>
                     <hstep>
                       <absdim>
                          <src>3.3</src>
                       </absdim>
                     </hstep>
                 </path>
              </diagram>
           </reference>
           <reference>
              <name>dest</name>
              <type>ENTITY_TYPE</type>
              <cardinality>ZeroOrOne</cardinality>
              <description>Introduced for potential use in better 
                           scoping of 'rel' relationship for which require 'previous' navigation.
                           Currently derived during enrichment.
              </description>
              <diagram>
                 <path>
                     <srcattach>0.9</srcattach>
                     <srcsign>1</srcsign>
                     <destattach>0.4</destattach>
                     <srcarmlen>1.1</srcarmlen>
                     <hstep>
                       <absdim>
                          <src>3.3</src>
                       </absdim>
                     </hstep>
                 </path>
              </diagram>
           </reference>

     </entity_type>
   <entity_type>
      <name>position</name>
      <presentation><below>presentation</below><x>-0.25</x></presentation>
      <dependency_group>
          <presentation>
             <x>1.75</x>
          </presentation>
      </dependency_group>
      <entity_type>
         <name>relative</name>
         <presentation><x>0.3</x><w>2.5</w></presentation>
         <reference>
            <name>to</name>
            <type>ENTITY_TYPE</type><!--temporary-->
            <cardinality>ExactlyOne</cardinality>
            <diagonal>
              <theabsolute/>
            </diagonal>
            <riser>
                <theabsolute/>
            </riser>
            <diagram>
                <path>
                   <destattach>0.4</destattach>
                   <srcsign>-1</srcsign>
                   <destsign>-1</destsign>
                   <hstep>
                       <absdim><src>-0.8</src></absdim>
                   </hstep>
                </path>
            </diagram>
         </reference>
         <value>
            <name>ratio</name>
            <optional/>
            <type>float</type>
         </value>
      </entity_type>
      <entity_type>
         <name>abs</name>
         <presentation><below>relative</below></presentation>
      </entity_type>
      <entity_type>
         <name>local</name>
         <presentation><below>abs</below></presentation>
      </entity_type>
      <entity_type>
         <name>default</name>
         <presentation><below>local</below></presentation>
      </entity_type>
      <value>
         <name>d</name>
         <optional/>
         <type>float</type>
      </value>
   </entity_type>

  <group>
    <name>attribute_children</name>
    <presentation>
       <below>Attribute</below>
       <deltah>0.5</deltah>
       <!--<y>0.5</y>-->
       <!--<rightOf>entity_type_grandchildren</rightOf>-->
    </presentation>
    <entity_type>
      <name>implementationOf</name>
      <presentation>
           <x>-0.8</x>
           <h>3.0</h>
      </presentation>
      <dependency>
          <name>..</name>
          <type>Attribute</type>
          <cardinality>ExactlyOne</cardinality>
      </dependency>
      <reference>
         <name>destattr</name>
         <type>Attribute</type>
         <cardinality>ExactlyOne</cardinality>
         <diagonal>
             <join>
                  <component>
                      <rel>rel</rel>
                  </component>
                  <component>
                      <src>Relationship</src>
                      <rel>type</rel>
                  </component>
             </join>
         </diagonal>
         <riser>
             <component>
                 <rel>..</rel>
             </component>
         </riser>
         <diagram>
              <path>
                  <srcarmlen>0.9</srcarmlen>
                  <srcsign>-1</srcsign>
                  <destsign>-1</destsign>
                  <hstep><absdim><src>-0.05</src></absdim></hstep>
                  <scope><label><xAdjustment>1.3</xAdjustment></label></scope>
                  <label><position>Upside</position></label>
              </path>
         </diagram>
      </reference>
      <reference>
         <name>attrOfOrigin</name>
         <type>Attribute</type>
         <cardinality>ExactlyOne</cardinality>
         <diagonal>
             <component>
                 <rel>typeOfOrigin</rel>
             </component>
         </diagonal>
         <riser>
             <component>
                 <rel>..</rel>
             </component>
         </riser>
         <diagram>
              <path>
                  <srcarmlen>1.0</srcarmlen>
                  <srcsign>-1</srcsign>
                  <destsign>-1</destsign>
                  <hstep><absdim><src>-0.05</src></absdim></hstep>
                  <scope><label><xAdjustment>1.3</xAdjustment></label></scope>
                  <label><position>Upside</position></label>
              </path>
         </diagram>
      </reference>
      <reference>
         <name>typeOfOrigin</name>
         <type>ENTITY_TYPE</type>
         <cardinality>ExactlyOne</cardinality>
          <diagonal>
              <theabsolute/>
          </diagonal>
          <riser>
              <theabsolute/>
          </riser>
         <diagram>
              <path>
                  <srcarmlen>1.0</srcarmlen>
                  <destattach>0.3</destattach>
                  <hstep><absdim><src>-1.0</src></absdim></hstep>
                  <scope><label><xAdjustment>1.3</xAdjustment></label></scope>
                  <label><position>Upside</position></label>
              </path>
         </diagram>
      </reference>
      <reference>
         <name>rel</name>
         <type>reference_or_dependency</type>
         <cardinality>ExactlyOne</cardinality>
         <diagonal>
             <join>
                  <component>
                      <rel>..</rel>
                  </component>
                  <component>
                      <src>Attribute</src>
                      <rel>..</rel>
                  </component>
             </join>
         </diagonal>
         <riser>
             <component>
                 <!-- <src>Relationship</src> -->  <!-- what is this about ??  is this wrong - commented out 1-Nov-2016 
                               BUT THEN I GOT A REF INT error no such has broken reference relationship 'rel' of type 'Relationship'
                                                                                          ... foreign key 'reference:..'
                 -->
                 <rel>..</rel>
             </component>
         </riser>
         <diagram>
              <path>
                  <destattach>0.8</destattach>
                  <scope><label><position>Downside</position><xAdjustment>0.4</xAdjustment></label></scope>
              </path>
         </diagram>
      </reference>
    </entity_type>
    <entity_type>
      <name>optional</name>
      <presentation>
          <rightOf>implementationOf</rightOf>
          <x>0.75</x>
      </presentation>
      <value>
        <name>value</name>
        <type>string</type>
        <optional/>
      </value>
    </entity_type>
    <entity_type>
      <name>deprecated</name>
      <presentation>
          <rightOf>optional</rightOf>
      </presentation>
    </entity_type>
    <entity_type>
      <name>identifying(2)</name>
      <presentation>
          <below>implementationOf</below>
          <x>1.6</x>
          <y>1.0</y>
      </presentation>
    </entity_type>
  </group>
  <group>
    <name>path_children</name>
    <presentation>
       <below>path</below>
       <x>1.0</x>
       <y>1</y>
    </presentation>
    <entity_type>
      <name>label</name>
      <presentation>
         <w>2.5</w>
      </presentation>
      <dependency_group>
          <presentation>
             <x>0.5</x>
             <w>1.5</w>
          </presentation>
      </dependency_group>
      <choice>
        <name>position</name>
        <from>RelativePosition</from>
        <optional/>
      </choice>
      <choice>
         <name>name</name>
         <from>Render</from>
         <optional/>
      </choice>
      <value>
        <name>xAdjustment</name>
        <type>float</type>
        <optional/>
      </value>
      <value>
        <name>yAdjustment</name>
        <type>float</type>
        <optional/>
      </value>
    </entity_type>
    <entity_type>
      <name>step</name>
      <presentation>
            <rightOf>label</rightOf>
             <y>2.0</y>
      </presentation>
      <dependency_group>
          <presentation>
             <x>0.75</x>
             <w>0.75</w>
          </presentation>
      </dependency_group>
      <entity_type>
        <name>vstep</name>
      </entity_type>
      <entity_type>
        <name>hstep</name>
        <presentation>
            <below>vstep</below>
        </presentation>
      </entity_type>
      <composition>
        <cardinality>ZeroOrOne</cardinality>
        <type>step</type>
        <diagram>
          <path>
            <destattach>0.35</destattach>
            <hstep>
              <absdim>
                <src>-0.8</src>
              </absdim>
            </hstep>
          </path>
        </diagram>
      </composition>
      <composition>
        <cardinality>ZeroOrOne</cardinality>
        <type>dimension</type>
        <diagram>
          <path>
            <align>ToSrc</align>
          </path>
        </diagram>
      </composition>
    </entity_type>
  </group>
  <entity_type>
    <name>dimension</name>
    <presentation>
        <below>step</below>
    </presentation>
    <entity_type>
      <name>reldim</name>
    </entity_type>
    <entity_type>
      <name>absdim</name>
      <presentation>
        <rightOf>reldim</rightOf>
      </presentation>
    </entity_type>
    <value>
      <name>src</name>
      <type>float</type>
      <optional/>
    </value>
    <value>
      <name>dest</name>
      <type>float</type>
      <optional/>
    </value>
  </entity_type>
  <entity_type>
    <name>enumeration_type</name>
    <presentation>
        <rightOf>ENTITY_TYPE</rightOf>
        <x>10.0</x>
        <w>2.8</w>
        <!--<h>1.2</h>-->
    </presentation>
    <composition>
      <cardinality>OneOrMore</cardinality>
      <type>enumeration_value</type>
      <identifying/>
    </composition>
    <value>
      <name>name</name>
      <type>string</type>
      <identifying/>
    </value>
    <value>
      <name>description</name>
      <optional/>
      <type>string</type>
    </value>
  </entity_type>
  <entity_type>
    <name>enumeration_value</name>
    <presentation>
        <below>enumeration_type</below>
        <w>2.8</w>
        <!--<h>1.2</h>-->
    </presentation>
    <value>
      <name>literal</name>
      <type>string</type>
      <identifying/>
    </value>
    <value>
      <name>description</name>
      <optional/>
      <type>string</type>
    </value>
  </entity_type>


  <enumeration_type>
    <name>Render</name>
    <enumeration_value>
       <literal>
          None
       </literal>
    </enumeration_value>
    <enumeration_value>
       <literal>
          Split
       </literal>
    </enumeration_value>
    <enumeration_value>
       <literal>
          NoSplit
       </literal>
    </enumeration_value>
  </enumeration_type>
  <enumeration_type>
    <name>Cardinality</name>
    <enumeration_value>
       <literal>
          ZeroOrOne
       </literal>
    </enumeration_value>
    <enumeration_value>
       <literal>
          ExactlyOne
       </literal>
    </enumeration_value>
    <enumeration_value>
       <literal>
          ZeroOneOrMore
       </literal>
    </enumeration_value>
    <enumeration_value>
       <literal>
          OneOrMore
       </literal>
    </enumeration_value>
  </enumeration_type>
  <enumeration_type>
    <name>ValueType</name>
    <enumeration_value>
       <literal>
          boolean
       </literal>
    </enumeration_value>
    <enumeration_value>
       <literal>
          date
       </literal>
    </enumeration_value>
    <enumeration_value>
       <literal>
          dateTime
       </literal>
    </enumeration_value>
    <enumeration_value>
       <literal>
          integer
       </literal>
    </enumeration_value>
    <enumeration_value>
       <literal>
          float
       </literal>
    </enumeration_value>
    <enumeration_value>
       <literal>
          nonNegativeInteger
       </literal>
    </enumeration_value>
    <enumeration_value>
       <literal>
          positiveInteger
       </literal>
    </enumeration_value>
    <enumeration_value>
       <literal>
          string
       </literal>
    </enumeration_value>
    <enumeration_value>
       <literal>
          time
       </literal>
    </enumeration_value>
  </enumeration_type>
  <enumeration_type>
    <name>SrcOrDest</name>
    <enumeration_value>
       <literal>
          ToSrc
       </literal>
    </enumeration_value>
    <enumeration_value>
       <literal>
          ToDest
       </literal>
    </enumeration_value>
  </enumeration_type>
  <enumeration_type>
    <name>RelativePosition</name>
    <enumeration_value>
       <literal>
          Right
       </literal>
    </enumeration_value>
    <enumeration_value>
       <literal>
          Left
       </literal>
    </enumeration_value>
    <enumeration_value>
       <literal>
          Upside
       </literal>
    </enumeration_value>
    <enumeration_value>
       <literal>
          Downside
       </literal>
    </enumeration_value>
  </enumeration_type>
  <enumeration_type>
    <name>CustomShape</name>
    <enumeration_value>
       <literal>
          Top
       </literal>
    </enumeration_value>
    <enumeration_value>
       <literal>
          TopLeft
       </literal>
    </enumeration_value>
    <enumeration_value>
       <literal>
          TopRight
       </literal>
    </enumeration_value>
    <enumeration_value>
       <literal>
          MiddleLeft
       </literal>
    </enumeration_value>
    <enumeration_value>
       <literal>
          MiddleRight
       </literal>
    </enumeration_value>
    <enumeration_value>
       <literal>
          BottomLeft
       </literal>
    </enumeration_value>
    <enumeration_value>
       <literal>
          BottomRight
       </literal>
    </enumeration_value>
    <enumeration_value>
       <literal>
          Bottom
       </literal>
    </enumeration_value>
  </enumeration_type>
  <enumeration_type>
    <name>xmlAttributeRepresentation</name>
    <enumeration_value>
       <literal>
          Attribute
       </literal>
    </enumeration_value>
    <enumeration_value>
       <literal>
          Element
       </literal>
    </enumeration_value>
    <enumeration_value>
       <literal>
          Anonymous
       </literal>
    </enumeration_value>
  </enumeration_type>
  <enumeration_type>
    <name>xmlEntityRepresentation</name>
    <enumeration_value><literal>Element</literal></enumeration_value>
    <enumeration_value><literal>Anonymous</literal></enumeration_value>
  </enumeration_type>
</entity_model>
<!-- end of file: ERmodel_v1.2/src/ERmodelERmodel.xml--> 

