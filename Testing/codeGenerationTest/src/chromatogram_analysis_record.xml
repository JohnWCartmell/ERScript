<?xml version="1.0" encoding="UTF-8"?>
<!-- 
     Chromatogram_Analysis Record

DESCRIPTION

      Describes the chromatography_analysis_record logical structure.

CHANGE HISTORY 

CR18630 JC  02-Nov-2016  Tidy up use of <projection_rel>
CR18804 JC  02-Dec-2016  Remove riser2 from pullback. No longer required or supported.
                         Tested by diff of generated ts.
31 Oct 2002 Upgraded to latest meta model with cahnges to aboloish choice, replace by composition and rename value to be attribute.
-->
<entity_model xmlns="http://www.entitymodelling.org/ERmodel">
    <presentation>
      <diagram>
         <deltaw>0.25</deltaw>
      </diagram>
   </presentation>
    <absolute>
        <name>chromatogram_analysis_record</name> 
        <presentation>
            <x>1</x>
            <y>25.5</y>
        </presentation>
        <composition>
            <type>task</type>
            <cardinality>
            <ExactlyOne/>
         </cardinality>
        </composition>
        <composition>
            <type>sample_group</type>
            <cardinality>
            <ZeroOneOrMore/>
         </cardinality>
            <description>Made optional for pragmatic reasons.</description>
        </composition>
        <composition>
            <type>data_collection</type>
            <cardinality>
            <ZeroOneOrMore/>
         </cardinality>
            <inverse>..</inverse>
        </composition>
        <composition>
            <name>submit_to</name>
            <type>revised_labsys_task</type>
            <cardinality>
            <ZeroOrOne/>
         </cardinality>
            <inverse>..</inverse>
        </composition>
        <composition>
            <type>interpretation_session</type>
            <cardinality>
            <ZeroOneOrMore/>
         </cardinality>
            <inverse>..</inverse>
        </composition>
    </absolute>
    <group>
        <name>task tower</name>
        <module_name>task</module_name>


        <description>Represented by the 'task' module in the generated type script.</description>
        <presentation>
             <x>0.2</x>
             <y>0.75</y>
             <deltah>0.25</deltah>
             <deltaw>1.0</deltaw>
        </presentation>
        <entity_type>
            <name>task</name>
            <presentation> 
            <x>0.2</x>
            <y>0.25</y>
            <deltaw>0.3</deltaw>
         </presentation>
            <description>
                The task whose data is being represented.
            </description>
            <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>hostnameOfLabsysAppServer</name>
                <type>
               <string/>
            </type>
                <description>Rationale: This is used to construct urls of chromatogram files referenced from data held in this model.
                </description>
            </attribute>
            <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>task_number</name>
                <type>
               <integer/>
            </type>
                <description>The Labsys task number. Typically 5 or 6 digits.</description>
            </attribute>
            <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>SOP_number</name>
                <type>
               <string/>
            </type>
                <description> The procedure which the Labsys task is an instance of. Typically the letter 'P'
                    followed by 3 digits and optionally a letter code. Example value P046F.
                </description>
            </attribute>
            <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>procedure_name</name>
                <type>
               <string/>
            </type>
                <description>The name associated with the Labsys procedure which this task is an instance of.
                    Example value 'Matrix Matched Protein Binding'.
                </description>
            </attribute>
            <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>location</name>
                <type>
               <string/>
            </type>
                <description>The Labsys location associated witht this task. Examnple values 'Macclesfield', 
                    'Biohub-3G', Watertown'.
                </description>
            </attribute>
        </entity_type>
        <entity_type>
            <name>revised_labsys_task</name>
            <presentation>
            <rightOf>task</rightOf>
            <x>3</x>
            <deltaw>0.1</deltaw>
         </presentation>
            <description>
               This indicates that the data should be submitted back to the specifed task.
            </description>
            <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>hostnameOfLabsysAppServer</name>
                <type>
               <string/>
            </type>
                <description>If a value is provided then this data is submitted back to the specified instance of Labsys.
                </description>
            </attribute>
            <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>task_number</name>
                <type>
               <integer/>
            </type>
                <description>If a value is provided then this data is submitted to the specifed task. </description>
            </attribute>
            <reference>
                <name>revised_in</name>
                <type>interpretation_session</type>
                <cardinality>
               <ExactlyOne/>
            </cardinality>
                <riser>
               <theabsolute/>
            </riser>
                <diagonal>
               <theabsolute/>
            </diagonal>
                <diagram>
                   <path>
                      <align>
                     <ToSrc/>
                  </align>
                   </path>
                </diagram>
            </reference>
        </entity_type>
    </group>
    <group>
        <name>external</name>
        <annotation>Documentation only. Not represented in XML nor in rng or ts.</annotation>
        <presentation>
           <below>task tower</below>
           <y>2.0</y>
           <deltaw>0.2</deltaw>
        </presentation>
      <entity_type>
        <name>sample_group</name>
        <description>
            This represents the sample group as represented in the task configuration xml.
            There are two types of sample groups shared ('shared_sample_group' and others 'test_sample_group'.
        </description>
        <presentation>
            <y>0.5</y>
            <x>0.2</x>
            <deltaw>0.1</deltaw>
        </presentation>
        <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
            <name>alpha_code</name>
            <type>
               <string/>
            </type>
            <identifying/>
            <description>A one or two character code associated with a sample group.
                Typically  sample group 1 is 'a', sample group 2 is 'b' and so on.
                In the case of assays that monitor for test compounds but can in addition
                coded as 'pa', 'pb' and so on and groups of metabolites to 'pa' are coded as 'ma'
                and so on.
            </description>
        </attribute>
        <entity_type>
            <name>test_sample_group</name>
            <presentation>
               <w>3.3</w>
            </presentation>
            <description>
                A grouping of samples which contribute to a 
                single test result for each principle component 
                and which do not contribute to other results.
            </description>
        </entity_type>  
        <entity_type>
            <name>shared_sample_group</name>
            <presentation>
               <rightOf>test_sample_group</rightOf>
               <w>3.3</w>
            </presentation>
            <description>
                A grouping of samples which contribute to a multiple test results per principle component.
            </description>
        </entity_type>  
        <composition>
            <type>sample</type>
            <cardinality>
               <OneOrMore/>
            </cardinality>
            <identifying/>
            <sequence/>
            <inverse>..</inverse>
            <diagram>
               <path>
                    <align>
                     <ToDest/>
                  </align>
                </path>
            </diagram>
        </composition>
        <composition>
            <type>MSMS_component</type>
            <cardinality>
               <OneOrMore/>
            </cardinality>
            <identifying/>
            <inverse>..</inverse>
            <diagram>
               <path>
                    <srcattach>0.65</srcattach>
                </path>
            </diagram>
        </composition>
      </entity_type>  
      <entity_type>
        <name>MSMS_component</name>
        <description>
            This represents a compound which is to be monitored for in every sample within  a sample group.
        </description>
        <presentation>
            <rightOf>compound(2)</rightOf>
            <below>shared_sample_group</below>
            <x>0.4</x>
            <deltaw>0.5</deltaw>
        </presentation>
        <dependency>
            <name>..</name>
            <type>sample_group</type>
        </dependency>
        <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
            <name>compound_id</name>
            <type>
               <string/>
            </type>
            <identifying/>
            <description>
                This is the Cyprotex compound identifier (CYid) for the compound to be monitored.
                Note: 10 May 2016. There is a problem here in the case of internal standards. In generated
                sample lists a common name  is used in the place of CYid for internal standards. 
                None the less it is the CYid that we need store in this attribute for it is the CYid held
                in the corresponding attribute of the task_configuration.xml. Could use a lookup table during
                data collection if the task_configuration is not available for a reverse lookup. 
                Is this a xevo-specific problem or is same convention used by QTRAP assistant?
            </description>
        </attribute>
      </entity_type>
      <entity_type>
        <name>sample</name>
        <presentation>
            <below>sample_group</below>
            <rightOf>injection(2)</rightOf>
         </presentation>
        <description>
            Entities of this type represent samples within task_configuration xml.
            Such entitites *ought to* represent physical samples in wells of analysis plates i.e.
            they ought to be co-numerous with such. I say *ought to* because in future, but not currently 
            I believe, this property might be lost because we might want to a sample list in which we multiply
            inject the same sample as a matter of course. This does occur currently in the
            unsuported biomarker assay in which QCs are multiply injected.
        </description>
        <dependency>
            <name>..</name>
            <type>sample_group</type>
        </dependency>
        <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
            <name>sample_id</name>
            <type>
               <string/>
            </type>
            <identifying/>
            <description>
                This is an identifier that identifies within a sample list the injection of a physical sample.
                The sample is identified by its vessel and well location on the Labsys analysis plate 
                (A plate). 
                It consists of a concatenation of (i) a labsys analysis vessel id
                (ii) the text '_Well_' (iii) the Labsys alphanumeric well code 
                Example value:  'A8509801_Well_A4'.
                Note that there may be a need to
                add additional syntax to support assays where the same sample is injected multiple
                times as for instance QCs are in the as yet not supported Biomarkers assay. 
            </description>
        </attribute>
        <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
            <name>is_RT_reference_peak</name>
            <type>
               <boolean/>
            </type>
            <description>Indicates that a sample is to be used as a reference for retention time (RT) for peak
                identification purposes. For any mass spec component of the reference sample,
                the highest peak in the chromatogram is used to constrain the window of search
                for identification of the corresponding peaks in other non-reference samples 
                within the sample group.
            </description>
        </attribute>
        <composition>
            <type>required_MSMS_data</type>
            <cardinality>
               <ZeroOneOrMore/>
            </cardinality>
            <identifying/>
            <inverse>..</inverse>
            <diagram>
                <path>
                    <align>
                     <ToDest/>
                  </align>
                </path>
            </diagram>
        </composition>
      </entity_type>
      <entity_type>
        <name>required_MSMS_data</name>
        <description>
            This represents each compound that is to be monitored for in a sample as described by the sample list.
            This is in fact a derived entity because 
            within each sample each MSMS_component of the parent sample_group is to be monitord for.
            This can be expressed by saying that this required_MSMS_data entity type is the cartesian product
            of sample and MSMS_component filtered by membership of the same sample_group.
        </description>
        <presentation>
            <below>sample</below>
            <rightOf>component(2)</rightOf>
            <w>3.5</w>
        </presentation>
        <dependency>
            <name>..</name>
            <type>sample</type>
        </dependency>
        <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
            <name>compound_id</name>
            <type>
               <string/>
            </type>
            <identifying/>
            <description>
                This is the monitored compound.
            </description>
        </attribute>
      </entity_type>
   </group>
    <group>
        <name>chromatogram tower</name>
        <module_name>chromatogram</module_name>
        <annotation>chromatogram tower</annotation>
        <description>Represented by the 'task' module in the generated type script.</description>
        <presentation>
             <rightOf>task tower</rightOf>
             <x>0.5</x>
             <y>2.0</y>
             <deltaw>2.3</deltaw>
             <deltah>3.0</deltah>
        </presentation>
        <entity_type>
            <name>data_collection</name>
            <presentation>
            <x>4.0</x>
            <y>0.25</y>
            <deltaw>0.2</deltaw>
         </presentation>
            <description>
                There will be an agent on the bus which merges collected data into this xml file.
                In the case of multiple submissions for a single sample list name the samplelist_name 
                will be insufficient as a key.
                Could have instanceNo in addition.
                Multiple submissions could be due to software or people multiply submitting in error or could be
                because alternate masses are being submitted. In the case that alternate masses are submitted there may be
                just one chromatogram per injection rather than the five, for example,  that will be present in a cassette by four assay.

                OR: chromatograms have an extractionDate. Later extracted masses are merged in. I prefer this.
            </description>
            <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>samplelist_name</name>
                <type>
               <string/>
            </type>
                <identifying/>
                <description>
                    The name of the sample list presented to the mass spec system to run the samples 
                    and collect the data.
                </description>
            </attribute>
            <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>instrument_name</name>
                <type>
               <string/>
            </type>
                <description>
                    The name of mass spec system used to run the samples through and collect the data.
                </description>
            </attribute>
            <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>instrument_type</name>
                <type>
               <string/>
            </type>
                <description>
                    The type of mass spec system used to run the samples through and collect the data.
                </description>
            </attribute>
            <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>chromatography</name>
                <type>
               <string/>
            </type>
                <description>
                    A reference to the LC method assocaited with the sample list.
                </description>
            </attribute>
            <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>collection_timestamp</name>
                <type>
               <dateTime/>
            </type>
                <description>
                    The data and time of the collection of the chromatography data from the raw data files.
                </description>
            </attribute>
            <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>labsys_submission_id</name>
                <type>
               <string/>
            </type>
                <optional/>
                <description>This is the labsys QCS submission id.
                    It is optional because it can only be filled at a time later than the initial submission.
                </description>
            </attribute>
            <composition>
                <type>sample_group(2)</type>
                <cardinality>
               <OneOrMore/>
            </cardinality>
                <identifying/>
                <sequence/>
                <inverse>..</inverse>
                <diagram>
                    <path>
                        <align>
                     <ToDest/>
                  </align>
                    </path>
                </diagram>
            </composition>
        </entity_type>
        <entity_type>
            <name>sample_group(2)</name>
            <presentation>
            <below>data_collection</below>
            <deltaw>0.5</deltaw>
         </presentation>
            <dependency>
                <name>..</name>
                <type>data_collection</type>
            </dependency>
            <description>
                This is used to structure the data collected for the injections of a sample list. 
                each instance corresponds to a sample_group within the task_configuration xml.
            </description>
            <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>method_filename</name>
                <type>
               <string/>
            </type>
            </attribute>
            <composition>
                <type>injection(2)</type>
                <cardinality>
               <OneOrMore/>
            </cardinality>
                <identifying/>
                <sequence/>
                <inverse>..</inverse>
                <diagram>
                    <path>
                        <destarmlen>1.5</destarmlen>
                    </path>
                </diagram>
            </composition>
            <composition>
                <type>compound(2)</type>
                <cardinality>
               <OneOrMore/>
            </cardinality>
                <identifying/>
                <sequence/>
                <inverse>..</inverse>
                <diagram>
                    <path>
                    </path>
                </diagram>
            </composition>
            <reference>
                <name>group</name>
                <type>sample_group</type>
                <cardinality>
               <ExactlyOne/>
            </cardinality>
                <identifying/>
                <diagram>
               <path>
                  <align>
                     <ToSrc/>
                  </align>
                  <srcarmlen>0.6</srcarmlen>
               </path>
            </diagram>
            </reference>
            <reference>
                <name>RT_reference</name>
                <type>injection(2)</type>
                <cardinality>
               <ZeroOrOne/>
            </cardinality>
            <!-- Need this to get inverse cardinality correct but ERmodel2physical cannot cope with this currently 31 May 2016.
                <inverse>RT_reference_of</inverse>
-->
                <diagram>
                    <path>
                        <srcsign>1</srcsign>
                        <srcattach>0.8</srcattach>
                        <destattach>0.6</destattach>
                        <hstep>
                     <absdim>
                        <src>3.0</src>
                     </absdim>
                  </hstep>
                        <scope>
                     <label>
                        <yAdjustment>-1.5</yAdjustment>
                     </label>
                  </scope>
                        <id>
                     <label>
                        <yAdjustment>-1.5</yAdjustment>
                     </label>
                  </id>
                    </path>
                </diagram>
                <diagonal>
                    <identity/>
                </diagonal>
                <riser>
                    <component>
                        <rel>..</rel>
                    </component>
                </riser>
            </reference>
        </entity_type>
        <entity_type>
            <name>injection(2)</name>
            <presentation>
            <below>sample_group(2)</below>
            <x>-3.0</x>
            <y>5.0</y>
            <deltaw>0.5</deltaw>
         </presentation>
            <dependency>
                <name>..</name>
                <type>sample_group(2)</type>
            </dependency>
            <description>
                An injection of a sample from a well of an analysis plate for which data has been collected.
            </description>
            <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>full_sample_id</name>
                <type>
               <string/>
            </type>
                <description>
                    This is an identifier that identifies an actual injection of a physical sample.
                    This will include the sample_id and,optionally, _R1, _R2 etc in the case of 
                    reinjections. Generally this is the stem of the raw data filename.
                    Example values:  'A8509801_Well_A4' and 'A8509801_Well_A4_R2'.
                </description>
            </attribute>
            <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>sample_name</name>
                <type>
               <string/>
            </type>
                <description>This describes the role of a sample within the scope of a sample group.
                    Naming conventions are followed for the most comment types of sample:
                    blanks, standards, qcs, timepoints for instance. Example values: 
                    standards: S0, S1, S2, etc. timepoints: 0min, 5min, 15min etc. 
                    doses 0uM, 3uM, 10uM etc.  
                </description>
            </attribute>
            <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>sample_type</name>
                <type>
               <string/>
            </type>
                <description>
                    This describes the type of a sample within the scope of a sample group.
                </description>
            </attribute>
            <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>raw_data_filename</name>
                <type>
               <string/>
            </type>
                <description>The name of the file in which time intensity data(the chromatogram data) was collected.
                </description>
            </attribute>
            <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>drawer_position</name>
                <type>
               <string/>
            </type>
                <description>Identifies the sample drawer from which position the vessel containing 
                    the sample was presented for sampling.
                </description>
            </attribute>
            <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>well_position</name>
                <type>
               <string/>
            </type>
                <description>Identifies the well from which the sample was injected.
                    Rationale: don't necessarily know the plate dimensions
                    so cannot convert to row and column.
                </description>
            </attribute>
            <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>timestamp</name>
                <type>
               <dateTime/>
            </type>
                <description>The date and time at which the injection occurred. </description>
            </attribute>
            <composition>
                <type>component(2)</type>
                <cardinality>
               <OneOrMore/>
            </cardinality>
                <identifying/>
                <sequence/>
                <inverse>..</inverse>
                <diagram>
                    <path>
                        <align>
                     <ToDest/>
                  </align>
                    </path>
                </diagram>
            </composition>
            <reference>
                <name>subject</name>
                <type>sample</type>
                <cardinality>
               <ExactlyOne/>
            </cardinality>
                <identifying/>
                <diagram>
                    <path>
                        <align>
                     <ToDest/>
                  </align>
                  <srcarmlen>0.3</srcarmlen>
                  <label>
                     <position>
                        <Upside/>
                     </position>
                  </label>
                    </path>
                </diagram>
                <physical_prefix/>
                <diagonal>
                    <join>
                        <component>
                            <rel>..</rel>
                        </component>
                        <component>
                            <rel>group</rel>
                        </component>
                    </join>
                </diagonal>
                <riser>
                    <component>
                        <rel>..</rel>
                    </component>
                </riser>
            </reference>
         <!--  Need this to get the structure correct but ERmodel2Phyical will not cope with it currently. 31 May 2016 
            <reference>
               <name>RT_reference_of</name>
               <inverse>RT_reference</inverse>
               <cardinality>ZeroOrOne</cardinality>
            </reference>
-->
        </entity_type>
        <entity_type>
            <name>compound(2)</name>
            <presentation>
            <below>sample_group(2)</below>
            <x>3.0</x>
            <y>1.0</y>
            <deltaw>0.4</deltaw>
            <deltah>0.3</deltah>
         </presentation>
            <dependency>
                <name>..</name>
                <type>sample_group(2)</type>
            </dependency>
            <description>
                A compound that has had data collected for some sample within the parent sample_group.
                We *expect* that all samples within the sample_group will have data for this compound.
            </description>
            <composition>
                <type>trace(2)</type>
                <cardinality>
               <OneOrMore/>
            </cardinality>
                <inverse>..</inverse>
                <identifying/>
            </composition>
            <reference>
                <name>subject</name>
                <type>MSMS_component</type>
                <cardinality>
               <ExactlyOne/>
            </cardinality>
                <identifying/>
                <physical_prefix/>
                <riser>
                    <component>
                        <rel>..</rel>
                    </component>
                </riser>
                <diagonal>
                    <join>
                        <component>
                            <rel>..</rel>
                        </component>
                        <component>
                            <rel>group</rel>
                        </component>
                    </join>
                </diagonal>
                <diagram>
               <path>
                  <srcarmlen>0.6</srcarmlen>
               </path>
            </diagram>
            </reference>
            <reference>
                <name>IS</name>
                <type>compound(2)</type>
                <cardinality>
               <ZeroOrOne/>
            </cardinality>
                <riser>
                    <component>
                        <rel>..</rel>
                    </component>
                </riser>
                <diagonal>
                    <join>
                        <component>
                            <rel>..</rel>
                        </component>
                    </join>
                </diagonal>
                <diagram>
                   <path>
                      <srcattach>0.5</srcattach>
                      <destattach>0.8</destattach>
                      <hstep>
                     <absdim>
                        <src>0.6</src>
                     </absdim>
                  </hstep>
                      <scope>
                     <label>
                        <xAdjustment>0.1</xAdjustment>
                     </label>
                  </scope>
                      <id>
                     <label>
                        <xAdjustment>0.1</xAdjustment>
                     </label>
                  </id>
                   </path>
                 </diagram>
            </reference>
        </entity_type>
        <entity_type>
            <name>trace(2)</name>
            <presentation>
            <below>compound(2)</below>
            <deltaw>0.4</deltaw>
         </presentation>
            <dependency>
                <name>..</name>
                <type>compound(2)</type>
            </dependency>
            <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>trace</name>
                <type>
               <string/>
            </type>
                <identifying/>
                <description>
                    This described the mass spec conditions.
                    If MSMS it will be of the form p &gt; d where p is the mass of the parnet ion and d is the mass 
                    of the daughter ion.
                    If MS using accurate mass then the value is of the form p +- d where p is the parent mass,
                    +- is the plus minus symbol in the windows 1252 codepage, and d is the delta within which 
                    window either side of accurate parent mass data is collected.
                    The unit of mass used here is the dalton.
                </description>
            </attribute>
        </entity_type>
        <entity_type>
            <name>component(2)</name>
            <presentation>
            <below>injection(2)</below>
            <deltaw>0.5</deltaw>
         </presentation>
            <dependency>
                <name>..</name>
                <type>injection(2)</type>
            </dependency>
            <description>
                A compound within an injection for which data has been collected and extracted.
                The ususal case is that the data collected will constitute a single chromatogram.
                An exception case is that high resolution mass spec is being utilised and data is 
                first collected using an expected mass and subsequently extracted at an alternative mass.
                ***  Note: 10 May 2016: Need a bit more modelling here. 
            </description>
            <composition>
                <type>chromatogram</type>
                <cardinality>
               <OneOrMore/>
            </cardinality>
                <identifying/>
                <sequence/>
                <inverse>..</inverse>
                <diagram>
                    <path>
                        <align>
                     <ToDest/>
                  </align>
                    </path>
                </diagram>
            </composition>
            <reference>
                <name>monitored</name>
                <type>compound(2)</type>
                <cardinality>
               <ExactlyOne/>
            </cardinality>
                <identifying/>
                <diagram>
                    <path>
                        <srcattach>0.2</srcattach>
                        <destattach>0.8</destattach>
                      <!--  <hstep><absdim><src>2.0</src></absdim></hstep>  -->
                        <label>
                     <position>
                        <Upside/>
                     </position>
                  </label>  
                        <scope>
                     <label>
                        <xAdjustment>0.75</xAdjustment>
                     </label>
                  </scope>
                        <id>
                     <label>
                        <xAdjustment>0.6</xAdjustment>
                     </label>
                  </id>
                    </path>
                </diagram>
                <diagonal>
                    <join>
                        <component>
                            <rel>..</rel>
                        </component>
                        <component>
                            <rel>..</rel>
                        </component>
                    </join>
                </diagonal>
                <riser>
                    <component>
                       <rel>..</rel>
                    </component>
                </riser>
            </reference>
        </entity_type>
        <entity_type>
            <name>chromatogram</name>
            <presentation>
            <below>component(2)</below>
            <deltaw>0.5</deltaw>
         </presentation>
            <dependency>
                <name>..</name>
                <type>component(2)</type>
            </dependency>
            <description>The time point intensity data of a chromatogram is held in a separate file in Labsys. 
                This file is in the same submission as the 
                original submission of the data collection. The file name will be 
                'instrument_name'_'full_sample_id'_'monitored_compound_id'_'extraction_event_no' 
                Example raw data file name: XevoM07_A8440302_Well_B6_R4_CY0000080999_6.xml
            </description> 
            <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>extraction_timestamp</name>
                <type>
               <dateTime/>
            </type>
                <description>
                    The data and time at which the chromatogram data is extracted from the raw data file.
                </description>
            </attribute>
            <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>extraction_event_no</name>
                <type>
               <integer/>
            </type>
                <description>
                    Extraction event number associated with the chromatogram data extraction. 
                </description>
            </attribute>
            <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>time_intensity_data</name>
                <type>
               <string/>
            </type>
                <description>
                    A text with multiple lines. Each line is a time and an intensity separated by white space.
                </description>
            </attribute>
            <reference>
                <name>extracted</name>
                <type>trace(2)</type>
                <cardinality>
               <ExactlyOne/>
            </cardinality>
                <identifying/>
                <diagram>
                    <path>
                        <srcattach>0.25</srcattach>
                        <destattach>0.5</destattach>
                        <srcarmlen>2.1</srcarmlen>
                        <label>
                     <position>
                        <Upside/>
                     </position>
                  </label>  
                        <scope>
                     <label>
                        <xAdjustment>1.75</xAdjustment>
                     </label>
                  </scope>
                        <id>
                     <label>
                        <xAdjustment>0.6</xAdjustment>
                     </label>
                  </id>
                    </path>
                </diagram>
                <diagonal>
                    <join>
                        <component>
                            <rel>..</rel>
                        </component>
                        <component>
                            <rel>monitored</rel>
                        </component>
                    </join>
                </diagonal>
                <riser>
                    <component>
                       <rel>..</rel>
                    </component>
                </riser>
            </reference>
            <composition>
                <type>instrument_extraction_details</type>
                <cardinality>
               <ZeroOrOne/>
            </cardinality>
                <inverse>..</inverse>
                <identifying/>
                <diagram>
                    <path>
                        <align>
                     <ToSrc/>
                  </align>
                    </path>
                </diagram>
            </composition>
        </entity_type>
        <entity_type>
            <name>instrument_extraction_details</name>
            <presentation>
            <below>chromatogram</below>
            <x>2.5</x>
            <deltaw>0.5</deltaw>
         </presentation>
            <entity_type>
                <name>xevo_extraction_details</name>
                <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                    <name>xevo_function_no</name>
                    <type>
                  <integer/>
               </type>
                    <description>The function no passed to DACChromatogram.GetChromatogram()</description>
                </attribute>
                <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                    <name>xevo_compound_no</name>
                    <type>
                  <integer/>
               </type>
                    <description>
                        The compound number passed to DACChromatogram.GetChromatogram() 
                        as the chromatogram_type parameter (note that a prefix of “Ch” must be used.
                    </description>
                </attribute>
                <description>
                    Contains the parameters used to extract the chromatogram using the Waters DACChromatogram.GetChromatogram() function.
                </description>
            </entity_type>
            <entity_type>
                <name>ab6600_extraction_details</name>
                <presentation>
               <rightOf>xevo_extraction_details</rightOf>
               <deltaw>0.5</deltaw>
            </presentation>
                <description>
                    Contains the parameters used to extract the chromatogram using the ab6600.
                </description>
                <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                    <name>sample_no</name>
                    <type>
                  <integer/>
               </type>
                    <description>Identifies the sample within the wiffFile</description>
                </attribute>
                <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                    <name>period_no</name>
                    <type>
                  <integer/>
               </type>
                    <description>The period within the experiment – typically 0 in current usage.</description>
                </attribute>
                <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                    <name>experiment_no</name>
                    <type>
                  <integer/>
               </type>
                    <description>
                        Identifies the experiment – Our current intention is that experiment 0 is the total mass scan,
                        with subsequent experiments identifying product ions for particular compounds.
                    </description>
                </attribute>
                <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                    <name>number_of_data_points</name>
                    <type>
                  <integer/>
               </type>
                    <description>
                        Number of data points in a chromatogram (prior to omission of zeroes due to threshold based acquisition).
                    </description>
                </attribute>
                <composition>
                    <type>step_size_specification</type>
                    <cardinality>
                  <OneOrMore/>
               </cardinality>
                    <identifying/>
                </composition>
              </entity_type>
        </entity_type>
        <entity_type>
           <name>step_size_specification</name>
           <presentation>
            <below>ab6600_extraction_details</below>
            <deltaw>0.5</deltaw>
         </presentation>
           <description>
                     These values are the results of calls of FMANChromData.GetStepSize(), and so use the conventions of the AB Sciex Analyst s/w - point numbers 
                     start at 1 rather than zero, and the 'change_point_no' is the first point number the step_size does NOT apply to.
           </description>
           <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>start_point_no</name>
                <type>
               <positiveInteger/>
            </type>
                <identifying/>
                <description>
                       The first point on the chromatogram at which this step size applies.  
                </description>
           </attribute>
           <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>step_size</name>
                <type>
               <float/>
            </type>
                <description>
                        The time interval between successive timepoints along the chromatogram.
                </description>
           </attribute>
           <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>change_point_no</name>
                <type>
               <positiveInteger/>
            </type>
                <description>
                       The first point of the chromatogram that this step size does not apply to.
                </description>
           </attribute>
        </entity_type>
    </group>

    <group>
        <name>interpretation tower</name>
        <module_name>interpretation</module_name>
        <annotation>interpretation tower</annotation>
        <description>Represented by the 'interpretation' module in the generated type script.</description>
        <presentation>
             <rightOf>chromatogram tower</rightOf>
             <x>3.0</x>
             <y>-2.0</y>
             <deltaw>7.0</deltaw>
             <deltah>2.3</deltah>
        </presentation>

        <entity_type>
            <name>interpretation_session</name>
            <presentation>
            <x>4.0</x>
            <y>0.1</y>
            <deltah>0.5</deltah>
            <deltaw>12.0</deltaw>
         </presentation>
            <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>session_guid</name>
                <type>
               <string/>
            </type>
                <identifying/>
            </attribute>
            
            <composition>
                <type>interpretation_event</type>
                <cardinality>
               <OneOrMore/>
            </cardinality>
                <identifying/>
                <inverse>..</inverse>
                <diagram>
                    <path>
                    </path>
                </diagram>
            </composition>
        </entity_type>
        <entity_type>
            <name>interpretation_event</name>
            <presentation>
            <below>interpretation_session</below>
            <deltaw>0.9</deltaw>
         </presentation>
            <description>
                The structure of an interpretation session follows the structure of one or more data colections.
                An interpretation_event is either manual or programmed and accordingly is of type 'user_interpretation_event' or
                'programmed_interpretation_event'.
                Any interpretation session results in a submission to Labsys.
            </description>
            <dependency>
                   <name>..</name>
                   <type>interpretation_session</type>
            </dependency>
            <entity_type>
                <name>programmed_interpretation_event</name>
                <presentation>
               <x>4.0</x>
               <y>-1.0</y>
               <deltaw>0.2</deltaw>
            </presentation>
                <description>
                    An application of automated methods to integrate a collected data set.
                    Will have a single entity of type collection and have interpretations of all chromatograms contained in the associated data_collection.
                    A programmed_interpretation_event will result in peak area data being submitted to Labsys.
                </description>
                <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                    <name>program_name</name>
                    <type>
                  <string/>
               </type>
                    <description>A refereence to the program that appplied automated methods to 
                        detect and integrate peaks.
                    </description>
                </attribute>
            </entity_type>
            <entity_type>
                <name>user_interpretation_event</name>
                <presentation>
               <rightOf>programmed_interpretation_event</rightOf>
               <x>4.0</x>
               <deltaw>0.9</deltaw>
            </presentation>
                <description>
                    A record of reviews of chromatograms by a scientist and of reintegrations.
                    If and chromatograms are reintegrated then  user_interpretation_event results in 
                      revised peak area data being submitted to Labsys.
                </description>
                <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                    <name>username</name>
                    <type>
                  <string/>
               </type>
                    <description>The username of the reviewing scientist.</description>
                </attribute>
            </entity_type>
            <reference>
               <name>base_event</name>
               <type>interpretation_event</type>
               <cardinality>
               <ZeroOrOne/>
            </cardinality>
               <description>This reference relationship modelled more generally than need be from
                            so that available as undefined for programmed event. Need it this way
                            so that can be used in lower level scopes.
               </description>
               <diagonal>
                  <join>
                     <component>
                        <rel>base_session</rel>
                     </component>
                  </join>
               </diagonal>
               <riser>
                  <component>
                     <rel>..</rel>
                  </component>
               </riser>
               <key>
                  <component>
                     <rel>subject</rel>
                  </component>
               </key>
               <diagram>
                  <path>
                     <srcattach>0.8</srcattach>
                     <destattach>0.6</destattach>
                     <hstep>
                     <absdim>
                        <src>0.6</src>
                     </absdim>
                  </hstep>
                     <scope>
                     <label>
                        <xAdjustment>1.3</xAdjustment>
                        <yAdjustment>0.3</yAdjustment>
                     </label>
                  </scope>
                     <id>
                     <label>
                        <xAdjustment>0.9</xAdjustment>
                     </label>
                  </id>
                  </path>
               </diagram>
            </reference>
            <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>dateTimeOpened</name>
                <type>
               <dateTime/>
            </type>
                <description>The date and time that the review session commences.</description>
            </attribute>
            <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>dateTimeSaved</name>
                <type>
               <dateTime/>
            </type>
                <optional/>
                <description>The date and time that the review session was last saved. </description>
            </attribute>
            <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>dateTimeSubmitted</name>
                <type>
               <dateTime/>
            </type>
                <optional/>
                <description>The date and time that the review session was submiited.</description>
            </attribute>
            <reference>
                   <name>base_session</name>
                   <type>interpretation_session</type>
                   <cardinality>
               <ZeroOrOne/>
            </cardinality>
                   <description>This reference relationship modelled more generally than need be from
                                so that available as undefined for programmed event. Need it this way
                                so that can be used in lower level scopes.
                   </description>
                   <diagonal>
                        <theabsolute/>
                   </diagonal>
                   <riser>
                        <theabsolute/>
                   </riser>
                   <diagram>
                      <path>
                         <srcattach>0.2</srcattach>
                         <destattach>0.8</destattach>
                         <hstep>
                     <absdim>
                        <src>0.1</src>
                     </absdim>
                  </hstep>
                         <scope>
                     <label>
                        <xAdjustment>-0.15</xAdjustment>
                     </label>
                  </scope>
                         <id>
                     <label>
                        <xAdjustment>-0.1</xAdjustment>
                     </label>
                  </id>
                      </path>
                   </diagram>
            </reference>
            <reference>
                <name>subject</name>
                <type>data_collection</type>
                <cardinality>
               <ExactlyOne/>
            </cardinality>
                <identifying/>
                <projection/>    
            <!-- needed for code generation but not specifically true-->
                <physical_prefix/>
                <diagonal>
                    <theabsolute/>
                </diagonal>
                <riser>
                    <theabsolute/>
                </riser>
                <diagram>
                    <path>
                      <align>
                     <ToSrc/>
                  </align>
                    </path>
                </diagram>
            </reference>
            <composition>
                <type>sample_group(3)</type>
                <cardinality>
               <OneOrMore/>
            </cardinality>
                <identifying/>
                <inverse>..</inverse>
                <pullback>
                    <type>sample_group(2)</type>
               <!-- 2 Dec 2016 NO LONGER REQUIRED 
                    <riser2>
                        <component>
                             <rel>..</rel>
                        </component>
                    </riser2>
-->
                    <along>
                       <join>
                          <component>
                              <rel>subject</rel>
                          </component>
                       </join>
                    </along>
                    <projection_rel>subject</projection_rel>
                </pullback>
                <diagram>
                    <path>
                        <align>
                     <ToDest/>
                  </align>
                    </path>
                </diagram>
            </composition>
            <composition>
                <type>method</type>
                <cardinality>
               <OneOrMore/>
            </cardinality>
                <inverse>..</inverse>
                <copy>
                    <type>method</type>
                    <riser2>
                        <component>
                             <rel>..</rel>
                        </component>
                    </riser2>
                    <along>
                       <join>
                          <component>
                              <rel>base_event</rel>
                          </component>
                       </join>
                    </along>
                </copy>
                <diagram>
               <path>
                  <align>
                     <ToDest/>
                  </align>
               </path>
            </diagram>
            </composition>
            <composition>
                <type>annotation</type>
                <cardinality>
               <ZeroOrOne/>
            </cardinality>
                <diagram>
               <path>
                  <align>
                     <ToDest/>
                  </align>
                  <destattach>0.85</destattach>
               </path>
            </diagram>
            </composition>
        </entity_type>
        <entity_type>
            <name>sample_group(3)</name>
            <presentation>
            <below>programmed_interpretation_event</below>
            <rightOf>sample_group(2)</rightOf>
            <deltah>0.75</deltah>
            <deltaw>4.0</deltaw>
         </presentation>
            <dependency>
                <name>..</name>
                <type>interpretation_event</type>
            </dependency>
            <description>
                There is an entity of this type for each sample group in the collected data. 
                Thus each sample_group(3) instances a sample_group(2).
            </description>
            <reference>
                <name>subject</name>
                <type>sample_group(2)</type>
                <cardinality>
               <ExactlyOne/>
            </cardinality>
                <identifying/>
                <projection/>
                <physical_prefix/>
                <diagonal>
                    <join>
                        <component>
                            <rel>..</rel>
                        </component>
                        <component>
                            <rel>subject</rel>
                        </component>
                    </join>
                </diagonal>
                <riser>
                    <component>
                        <rel>..</rel>
                    </component>
                </riser>
                <diagram>
                    <path>
                        <srcattach>0.5</srcattach>
                        <align>
                     <ToSrc/>
                  </align>
                        <scope>
                     <label>
                        <xAdjustment>-0.25</xAdjustment>
                        <yAdjustment>0.1</yAdjustment>
                     </label>
                  </scope>
                    </path>
                </diagram>
            </reference>
            <reference>
                <name>RT_reference</name>
                <type>injection(3)</type>
                <cardinality>
               <ZeroOrOne/>
            </cardinality>
            <!-- Need this to get inverse cardinality correct but ERmodel2physical cannot cope with this currently 31 May 2016.
                <inverse>RT_reference_of</inverse>
-->
                <diagram>
                    <path>
                        <srcattach>0.85</srcattach>
                        <destattach>0.8</destattach>
                        <hstep>
                     <absdim>
                        <src>2.0</src>
                     </absdim>
                  </hstep>
                        <scope>
                     <label>
                        <yAdjustment>-1.5</yAdjustment>
                     </label>
                  </scope>
                        <id>
                     <label>
                        <yAdjustment>-1.5</yAdjustment>
                     </label>
                  </id>
                    </path>
                </diagram>
                <diagonal>
                    <identity/>
                </diagonal>
                <riser>
                    <component>
                        <rel>..</rel>
                    </component>
                </riser>
                <key>
                  <join>
                     <component>
                     <rel>subject</rel>
                  </component>
                     <component>
                     <rel>RT_reference</rel>
                  </component>
                  </join>
                </key>
            </reference>
            <reference>
               <name>based_on</name>
               <type>sample_group(3)</type>
               <cardinality>
               <ZeroOrOne/>
            </cardinality>
               <diagonal>
                  <join>
                     <component>
                     <rel>..</rel>
                  </component>
                     <component>
                     <rel>base_event</rel>
                  </component>
                  </join>
               </diagonal>
               <riser>
                  <join>
                     <component>
                     <rel>..</rel>
                  </component>
                  </join>
               </riser>
               <key>
                   <component>
                       <rel>subject</rel>
                   </component>
               </key>
               <diagram>
                   <path>
                      <srcattach>0.4</srcattach>
                      <destattach>0.15</destattach>
                      <hstep>
                     <absdim>
                        <src>0.6</src>
                     </absdim>
                  </hstep>
                      <scope>
                     <label>
                        <xAdjustment>1.4</xAdjustment>
                        <yAdjustment>0.3</yAdjustment>
                     </label>
                  </scope>
                      <id>
                     <label>
                        <xAdjustment>0.6</xAdjustment>
                     </label>
                  </id>
                   </path>
               </diagram>
            </reference>
            <composition>
                <type>injection(3)</type>
                <cardinality>
               <OneOrMore/>
            </cardinality>
                <identifying/>
                <inverse>..</inverse>
                <pullback>
                    <type>injection(2)</type>
               <!-- 2 Dec 2016 NO LONGER REQUIRED 
                    <riser2>
                        <component>
                             <rel>..</rel>
                        </component>
                    </riser2>
-->
                    <along>
                       <join>
                          <component>
                              <rel>subject</rel>
                          </component>
                       </join>
                    </along>
                    <projection_rel>subject</projection_rel>
                </pullback>
                <diagram>
                    <path>
                        <destarmlen>1.5</destarmlen>
                    </path>
                </diagram>
            </composition>
            <composition>
                <type>compound(3)</type>
                <cardinality>
               <OneOrMore/>
            </cardinality>
                <identifying/>
                <inverse>..</inverse>
                <pullback>
                    <type>compound(2)</type>
               <!-- 2 Dec 2016 NO LONGER REQUIRED 
                    <riser2>
                        <component>
                             <rel>..</rel>
                        </component>
                    </riser2>
-->
                    <along>
                       <join>
                          <component>
                              <rel>subject</rel>
                          </component>
                       </join>
                    </along>
                    <projection_rel>subject</projection_rel>
                </pullback>
                <diagram>
                    <path>
                        <srcattach>0.7</srcattach>
                    </path>
                </diagram>
            </composition>
            <composition>
                <type>annotation</type>
                <cardinality>
               <ZeroOrOne/>
            </cardinality>
                <diagram>
                   <path>
                      <srcattach>0.9</srcattach>
                      <destattach>0.675</destattach>
                      <srcarmlen>0.5</srcarmlen>
                      <hstep>
                          <absdim>
                               <src>5.0</src>
                               <dest>0</dest>
                          </absdim>
                          <vstep> 
                                <absdim>
                           <src>2.75</src>
                        </absdim>
                          </vstep>
                       </hstep>
                   </path>
                </diagram>
            </composition>
        </entity_type>

        <entity_type>
            <name>injection(3)</name>
            <presentation>
            <below>sample_group(3)</below>
            <rightOf>injection(2)</rightOf>
            <x>-3.5</x>
            <y>-0.25</y>
            <deltah>1.0</deltah>
            <deltaw>1.0</deltaw>
         </presentation>
            <description>
                There is an entity of this type for each injection in the collected data. Thus each injection(3) instances an injection(2).
            </description>
            <dependency>
                <name>..</name>
                <type>sample_group(3)</type>
            </dependency>
            <reference>
                <name>subject</name>
                <type>injection(2)</type>
                <cardinality>
               <ExactlyOne/>
            </cardinality>
                <identifying/>
                <projection/>
                <physical_prefix/>
                <diagonal>
                    <join>
                        <component>
                            <rel>..</rel>
                        </component>
                        <component>
                            <rel>subject</rel>
                        </component>
                    </join>
                </diagonal>
                <riser>
                    <component>
                        <rel>..</rel>
                    </component>
                </riser>
                <diagram>
                    <path>
                        <srcattach>0.5</srcattach>
                        <align>
                     <ToSrc/>
                  </align>
                    </path>
                </diagram>
            </reference>
            <reference>
               <name>based_on</name>
               <type>injection(3)</type>
               <cardinality>
               <ZeroOrOne/>
            </cardinality>
               <diagonal>
                  <join>
                     <component>
                     <rel>..</rel>
                  </component>
                     <component>
                     <rel>based_on</rel>
                  </component>
                  </join>
               </diagonal>
               <riser>
                  <join>
                     <component>
                     <rel>..</rel>
                  </component>
                  </join>
               </riser>
               <key>
                   <component>
                       <rel>subject</rel>
                   </component>
               </key>
               <diagram>
                   <path>
                      <srcattach>0.4</srcattach>   
                      <destattach>0.15</destattach>
                      <hstep>
                     <absdim>
                        <src>0.6</src>
                     </absdim>
                  </hstep>
                      <scope>
                     <label>
                        <xAdjustment>1.4</xAdjustment>
                        <yAdjustment>0.3</yAdjustment>
                     </label>
                  </scope>
                      <id>
                     <label>
                        <xAdjustment>0.6</xAdjustment>
                     </label>
                  </id>
                   </path>
               </diagram>
            </reference>
            <composition>
                <type>component(3)</type>
                <cardinality>
               <OneOrMore/>
            </cardinality>
                <identifying/>
                <inverse>..</inverse>
                <pullback>
                    <type>component(2)</type>
               <!-- 2 Dec 2016 NO LONGER REQUIRED 
                    <riser2>
                        <component>
                             <rel>..</rel>
                        </component>
                    </riser2>
-->
                    <along>
                       <join>
                          <component>
                              <rel>subject</rel>
                          </component>
                       </join>
                    </along>
                    <projection_rel>subject</projection_rel>
                </pullback>
                <diagram>
                    <path>
                        <align>
                     <ToDest/>
                  </align>
                    </path>
                </diagram>
            </composition>
        </entity_type>


        <entity_type>
            <name>compound(3)</name>
            <presentation>
            <below>sample_group(3)</below>
            <x>3.5</x>
            <rightOf>compound(2)</rightOf>
            <deltah>0.5</deltah>
            <deltaw>0.5</deltaw>
         </presentation>
            <description>
                There is an entity of this type for each compound found monitored in the collected data for the sample group. 
                Each compound(3) instances a 'compound(2)'.
            </description>
            <dependency>
                <name>..</name>
                <type>sample_group(3)</type>
            </dependency>
            <composition>
                <type>trace(3)</type>
                <cardinality>
               <OneOrMore/>
            </cardinality>
                <inverse>..</inverse>
                <identifying/>
                <pullback>
                    <type>trace(2)</type>
               <!-- 2 Dec 2016 NO LONGER REQUIRED 
                    <riser2>
                        <component>
                             <rel>..</rel>
                        </component>
                    </riser2>
-->
                    <along>
                       <join>
                          <component>
                              <rel>subject</rel>
                          </component>
                       </join>
                    </along>
                    <projection_rel>subject</projection_rel>
                </pullback>
                <diagram>
                   <path>
                      <align>
                     <ToDest/>
                  </align>
                   </path>
                </diagram>
            </composition>
            <reference>
                <name>subject</name>
                <type>compound(2)</type>
                <cardinality>
               <ExactlyOne/>
            </cardinality>
                <identifying/>
                <projection/>
                <physical_prefix/>
                <diagonal>
                    <join>
                        <component>
                            <rel>..</rel>
                        </component>
                        <component>
                            <rel>subject</rel>
                        </component>
                    </join>
                </diagonal>
                <riser>
                    <component>
                        <rel>..</rel>
                    </component>
                </riser>
                <diagram>
                    <path>
                        <srcattach>0.2</srcattach>
                        <align>
                     <ToSrc/>
                  </align>
                        <scope>
                     <label>
                        <xAdjustment>1.5</xAdjustment>
                     </label>
                  </scope>
                        <id>
                     <label>
                        <xAdjustment>1.5</xAdjustment>
                     </label>
                  </id>
                        <label>
                     <position>
                        <Upside/>
                     </position>
                  </label>
                    </path>
                </diagram>
            </reference>
            <reference>
		          <name>IS</name>
                <type>compound(3)</type>
                <cardinality>
               <ZeroOrOne/>
            </cardinality>
                <riser>
                    <component>
                        <rel>..</rel>
                    </component>
                </riser>
                <diagonal>
                    <join>
                        <component>
                            <rel>..</rel>
                        </component>
                    </join>
                </diagonal>
                <key>
                    <join>
                        <component>
                            <rel>subject</rel>
                        </component>
                        <component>
                            <rel>IS</rel>
                        </component>
                    </join>
                </key>
                <diagram>
                   <path>
                      <srcattach>0.2</srcattach>
                      <destattach>0.5</destattach>
                      <hstep>
                     <absdim>
                        <src>0.6</src>
                     </absdim>
                  </hstep>
                      <label>
                     <position>
                        <Upside/>
                     </position>
                  </label>
                      <scope>
                     <label>
                        <xAdjustment>0.1</xAdjustment>
                     </label>
                  </scope>
                      <id>
                     <label>
                        <xAdjustment>0.1</xAdjustment>
                     </label>
                  </id>
                   </path>
                 </diagram>
            </reference>
            <reference>
               <name>selected</name>
               <type>trace(3)</type>
               <cardinality>
               <ZeroOrOne/>
            </cardinality>
               <diagonal>
                     <identity/>
               </diagonal>
               <riser>
                  <join>
                     <component>
                     <rel>..</rel>
                  </component>
                  </join>
               </riser>
               <diagram>
                   <path>
                      <srcarmlen>0.2</srcarmlen>
                      <srcattach>0.8</srcattach>
                      <destattach>0.3</destattach>
                      <hstep>
                     <absdim>
                        <src>0.1</src>
                     </absdim>
                  </hstep>
                      <label>
                     <position>
                        <Upside/>
                     </position>
                  </label>
                      <scope>
                     <label>
                        <xAdjustment>0.1</xAdjustment>
                        <yAdjustment>0.3</yAdjustment>
                     </label>
                  </scope>
                      <id>
                     <label>
                        <xAdjustment>0.1</xAdjustment>
                     </label>
                  </id>
                   </path>
               </diagram>
            </reference>
            <composition>
                <type>annotation</type>
                <cardinality>
               <ZeroOrOne/>
            </cardinality>
                <diagram>
                    <path>
                      <srcattach>0.9</srcattach>
                      <destattach>0.5</destattach>
                      <vstep>
                     <absdim>
                        <src>4.0</src>
                     </absdim>
                  </vstep>
                    </path>
                </diagram>
            </composition>
        </entity_type>
        <entity_type>
            <name>trace(3)</name>
            <presentation>
            <below>compound(3)</below>
            <x>-0.25</x>
            <rightOf>trace(2)</rightOf>
            <deltah>0.5</deltah>
            <deltaw>0.25</deltaw>
         </presentation>
            <dependency>
                <name>..</name>
                <type>compound(3)</type>
            </dependency>
            <reference>
                <name>subject</name>
                <type>trace(2)</type>
                <cardinality>
               <ExactlyOne/>
            </cardinality>
                <identifying/>
                <projection/>
                <physical_prefix/>
                <diagonal>
                    <join>
                        <component>
                            <rel>..</rel>
                        </component>
                        <component>
                            <rel>subject</rel>
                        </component>
                    </join>
                </diagonal>
                <riser>
                    <component>
                        <rel>..</rel>
                    </component>
                </riser>
                <diagram>
                    <path>
                        <srcattach>0.2</srcattach>
                        <align>
                     <ToSrc/>
                  </align>
                        <label>
                     <position>
                        <Upside/>
                     </position>
                  </label>
                        <scope>
                     <label>
                        <xAdjustment>1.5</xAdjustment>
                     </label>
                  </scope>
                        <id>
                     <label>
                        <xAdjustment>1.5</xAdjustment>
                     </label>
                  </id>
                    </path>
                </diagram>
            </reference>
            <reference>
                <name>chromatograms</name>
                <type>chromatogram(2)</type>
                <cardinality>
               <ZeroOneOrMore/>
            </cardinality>
                <inverse>extracted</inverse>
                <js>
        return this.parent.parent.injection_3.component_3.chromatogram_2
               .where(e =&gt; e.extracted_trace === this.trace);
                </js>
            </reference>
        </entity_type>
        <entity_type>
            <name>component(3)</name>
            <presentation>
                <below>injection(3)</below>
                <ym>
               <relative>
                  <to>component(2)</to>
               </relative>
            </ym>
                <deltaw>1.0</deltaw>
                <deltah>0.3</deltah>
            </presentation>
            <description>
                There is an entity of this type for each compound found monitored in the collected data for 
                the injection. Each component(3) instances a 'component(2)'.
            </description>
            <dependency>
                <name>..</name>
                <type>injection(3)</type>
            </dependency>
            <reference>
                <name>subject</name>
                <type>component(2)</type>
                <cardinality>
               <ExactlyOne/>
            </cardinality>
                <identifying/>
                <projection/>
                <physical_prefix/>
                <diagonal>
                    <join>
                        <component>
                            <rel>..</rel>
                        </component>
                        <component>
                            <rel>subject</rel>
                        </component>
                    </join>
                </diagonal>
                <riser>
                    <component>
                        <rel>..</rel>
                    </component>
                </riser>
                <diagram>
                    <path>
                        <srcattach>0.5</srcattach>
                    </path>
                </diagram>
            </reference>
            <reference>
                <name>monitored</name>
                <type>compound(3)</type>
                <cardinality>
               <ExactlyOne/>
            </cardinality>
                <diagram>
                    <path>
                        <srcattach>0.2</srcattach>
                        <destattach>0.8</destattach>
                         <!--  <hstep><absdim><src>2.0</src></absdim></hstep>  -->
                        <label>
                     <position>
                        <Upside/>
                     </position>
                  </label>  
                        <scope>
                     <label>
                        <xAdjustment>0.75</xAdjustment>
                     </label>
                  </scope>
                        <id>
                     <label>
                        <xAdjustment>0.5</xAdjustment>
                     </label>
                  </id>
                    </path>
                </diagram>
                <diagonal>
                    <join>
                        <component>
                            <rel>..</rel>
                        </component>
                        <component>
                            <rel>..</rel>
                        </component>
                    </join>
                </diagonal>
                <key>
                   <join>
                      <component>
                         <rel>subject</rel>
                      </component>
                      <component>
                         <rel>monitored</rel>
                      </component>
                   </join>
                </key>
                <riser>
                    <component>
                       <rel>..</rel>
                    </component>
                </riser>
            </reference>
            <reference>
               <name>based_on</name>
               <type>component(3)</type>
               <cardinality>
               <ZeroOrOne/>
            </cardinality>
               <diagonal>
                  <join>
                     <component>
                     <rel>..</rel>
                  </component>
                     <component>
                     <rel>based_on</rel>
                  </component>
                  </join>
               </diagonal>
               <riser>
                  <join>
                     <component>
                     <rel>..</rel>
                  </component>
                  </join>
               </riser>
               <key>
                   <component>
                       <rel>subject</rel>
                   </component>
               </key>
               <diagram>
                   <path>
                      <srcattach>0.75</srcattach>
                      <destattach>0.5</destattach>
                      <hstep>
                     <absdim>
                        <src>0.6</src>
                     </absdim>
                  </hstep>
                      <scope>
                     <label>
                        <xAdjustment>1.4</xAdjustment>
                        <yAdjustment>0.3</yAdjustment>
                     </label>
                  </scope>
                      <id>
                     <label>
                        <xAdjustment>0.6</xAdjustment>
                     </label>
                  </id>
                   </path>
               </diagram>
            </reference>
            <composition>
                <type>chromatogram(2)</type>
                <cardinality>
               <OneOrMore/>
            </cardinality>
                <identifying/>
                <inverse>..</inverse>
                <pullback>
                    <type>chromatogram</type>
               <!-- 2 Dec 2016 NO LONGER REQUIRED 
                    <riser2>
                        <component>
                             <rel>..</rel>
                        </component>
                    </riser2>
-->
                    <along>
                       <join>
                          <component>
                              <rel>subject</rel>
                          </component>
                       </join>
                    </along>
                    <projection_rel>subject</projection_rel>
                </pullback>
                <diagram>
                    <path>
                        <align>
                     <ToDest/>
                  </align>
                    </path>
                </diagram>
            </composition>
            <composition>
                <type>annotation</type>
                <cardinality>
               <ZeroOrOne/>
            </cardinality>
                <diagram>
               <path>
                  <srcattach>0.9</srcattach>
                  <destattach>0.325</destattach>
                  <vstep>
                     <absdim>
                        <src>0.25</src>
                     </absdim>
                  </vstep>
               </path>
            </diagram>
            </composition>
        </entity_type>

        <entity_type>
            <name>chromatogram(2)</name>
            <presentation>
                <below>component(3)</below>
                <x>-0.5</x>
                <!--<ym><relative><to>chromatogram</to></relative></ym> -->
                <rightOf>chromatogram</rightOf>
                <deltaw>4.0</deltaw>
                <deltah>1.0</deltah>
            </presentation>
            <description>
                There is an entity of this type for each chromatogram found in the collected data for the monitored compound within the injection. 
                Each 'chromatogram(2)'  instances a 'chromatogram'.
            </description>
            <dependency>
                <name>..</name>
                <type>component(3)</type>
            </dependency>
            <reference>
                <name>subject</name>
                <type>chromatogram</type>
                <cardinality>
               <ExactlyOne/>
            </cardinality>
                <identifying/>
                <projection/>
                <physical_prefix/>
                <diagonal>
                    <join>
                        <component>
                            <rel>..</rel>
                        </component>
                        <component>
                            <rel>subject</rel>
                        </component>
                    </join>
                </diagonal>
                <riser>
                    <join>
                        <component>
                            <rel>..</rel>
                        </component>
                    </join>
                </riser>
                <diagram>
                    <path>
                        <align>
                     <ToDest/>
                  </align>
                        <!--<scope><label><xAdjustment>2.5</xAdjustment></label></scope>-->
                        <!--<id><label><position>Right</position></label></id>-->
                    </path>
                </diagram>
            </reference>
            <reference>
                <name>extracted</name>
                <type>trace(3)</type>
                <cardinality>
               <ExactlyOne/>
            </cardinality>
                <inverse>chromatograms</inverse>
                <diagram>
                    <path>
                        <srcattach>0.25</srcattach>
                        <destattach>0.8</destattach>
                        <srcarmlen>1.6</srcarmlen>
                        <label>
                     <position>
                        <Upside/>
                     </position>
                  </label>  
                        <scope>
                     <label>
                        <xAdjustment>1.75</xAdjustment>
                     </label>
                  </scope>
                        <id>
                     <label>
                        <xAdjustment>0.4</xAdjustment>
                     </label>
                  </id>
                    </path>
                </diagram>
                <diagonal>
                    <join>
                        <component>
                            <rel>..</rel>
                        </component>
                        <component>
                            <rel>monitored</rel>
                        </component>
                    </join>
                </diagonal>
                <riser>
                    <component>
                       <rel>..</rel>
                    </component>
                </riser>
                <key>
                   <join>
                      <component>
                         <rel>subject</rel>
                      </component>
                      <component>
                         <rel>extracted</rel>
                      </component>
                   </join>
                </key>
            </reference>
            <reference>
               <name>based_on</name>
               <type>chromatogram(2)</type>
               <cardinality>
               <ZeroOrOne/>
            </cardinality>
               <diagonal>
                  <join>
                     <component>
                     <rel>..</rel>
                  </component>
                     <component>
                     <rel>based_on</rel>
                  </component>
                  </join>
               </diagonal>
               <riser>
                  <join>
                     <component>
                     <rel>..</rel>
                  </component>
                  </join>
               </riser>
               <key>
                   <component>
                       <rel>subject</rel>
                   </component>
               </key>
               <diagram>
                   <path>
                      <srcattach>0.75</srcattach>
                      <destattach>0.5</destattach>
                      <hstep>
                     <absdim>
                        <src>0.6</src>
                     </absdim>
                  </hstep>
                      <scope>
                     <label>
                        <xAdjustment>1.4</xAdjustment>
                        <yAdjustment>0.3</yAdjustment>
                     </label>
                  </scope>
                      <id>
                     <label>
                        <xAdjustment>0.6</xAdjustment>
                     </label>
                  </id>
                   </path>
               </diagram>
            </reference>
            <composition>
                <name>time_series</name>
                <type>timepoint</type>
                <cardinality>
               <OneOrMore/>
            </cardinality>
                <inverse>..</inverse>
                <transient/>
                <diagram>
                     <path>
                         <srcattach>0.1</srcattach>
                         <label>
                     <position>
                        <Left/>
                     </position>
                  </label>
                     </path>
                </diagram>
            </composition>
            <composition>
                <type>selected_peak</type>
                <cardinality>
               <ZeroOrOne/>
            </cardinality>
                <inverse>..</inverse>
                <copy>
                    <type>selected_peak</type>
                    <riser2>
                        <component>
                             <rel>..</rel>
                        </component>
                    </riser2>
                    <along>
                       <join>
                          <component>
                              <rel>based_on</rel>
                          </component>
                       </join>
                    </along>
               <!--
                    <projection_rel>previous</projection_rel> 
-->
                </copy>
                <diagram>
                     <path>
                         <srcattach>0.5</srcattach>
                     </path>
                </diagram>
            </composition>
            <composition>
                <type>candidate_peak</type>
                <cardinality>
               <ZeroOneOrMore/>
            </cardinality>
                <inverse>..</inverse>
                <transient/>
                <diagram>
                     <path>
                         <srcattach>0.6</srcattach>
                     </path>
                </diagram>
            </composition>
            <composition>
                <type>status</type>
                <cardinality>
               <ExactlyOne/>
            </cardinality>
                <inverse>..</inverse>
                <copy>
                    <type>status</type>
                    <riser2>
                        <component>
                             <rel>..</rel>
                        </component>
                    </riser2>
                    <along>
                       <join>
                          <component>
                              <rel>based_on</rel>
                          </component>
                       </join>
                    </along>
               <!--
                    <projection_rel>previous</projection_rel> 
-->
                </copy>
                <diagram>
                     <path>
                         <srcattach>0.75</srcattach>
                         <srcarmlen>0.5</srcarmlen>
                     </path>
                </diagram>
            </composition>
            <composition>
                <type>annotation</type>
                <cardinality>
               <ZeroOrOne/>
            </cardinality>
                <inverse>..</inverse>
                <diagram>
                   <path>
                      <srcarmlen>0.5</srcarmlen>
                      <srcattach>0.9</srcattach>
                      <destattach>0.15</destattach>
                      <vstep>
                     <absdim>
                        <src>0.1</src>
                     </absdim>
                  </vstep>
                   </path>
                </diagram>
            </composition>
        </entity_type>
        <entity_type>
            <name>annotation</name>
            <presentation>
            <rightOf>status</rightOf>
            <y>3.5</y>
            <below>param</below>
            <x>-3.0</x>
         </presentation>
            <dependency_group/>
            <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>text</name>
                <type>
               <string/>
            </type>
                <description>A comment entered by the reviewing scientist.</description>
            </attribute>
            <reference>
                <name>last_modified</name>
                <type>interpretation_session</type>
                <cardinality>
               <ExactlyOne/>
            </cardinality>
                <diagram>
                    <path>
                        <srcsign>1.0</srcsign>
                        <destattach>0.2</destattach>
                        <srcarmlen>0.3</srcarmlen>
                        <hstep>
                     <absdim>
                        <src>8.7</src>
                     </absdim>
                  </hstep>
                        <scope>
                     <label>
                        <xAdjustment>0.75</xAdjustment>
                     </label>
                  </scope>
                        <id>
                     <label>
                        <xAdjustment>0.6</xAdjustment>
                     </label>
                  </id>
                    </path>
                </diagram>
                <diagonal>
                    <theabsolute/>
                </diagonal>
                <riser>
                    <theabsolute/>
                </riser>
            </reference>
            <entity_type>
                <name>reject_this_data</name>
            </entity_type>
            <entity_type>
                <name>comment</name>
                <presentation>
               <rightOf>reject_this_data</rightOf>
            </presentation>
            </entity_type>

        </entity_type>
        <entity_type>
            <name>method</name>
            <presentation>
            <below>user_interpretation_event</below>
            <x>1.5</x>
            <y>1.5</y>
            <deltaw>0.3</deltaw>
         </presentation>
            <dependency>
                <name>..</name>
                <type>interpretation_event</type>
            </dependency>
            <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>methodname</name>
                <type>
               <string/>
            </type>
                <identifying/>
                <description>
                    The name of a method of peak smoothing, identification or delineation.
                </description>
            </attribute>
            <composition>
                <type>param</type>
                <cardinality>
               <ZeroOneOrMore/>
            </cardinality>
                <identifying/>
            </composition>
        </entity_type>

        <entity_type>
            <name>param</name>
            <presentation>
            <below>method</below>
            <deltaw>0.5</deltaw>
         </presentation>
            <description>
                A parameter used to specify detail of a method.
            </description>
            <dependency>
                <name>..</name>
                <type>method</type>
            </dependency>
            <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>name</name>
                <type>
               <string/>
            </type>
                <description>The name of the parameter.</description>
            </attribute>
            <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>value</name>
                <type>
               <string/>
            </type>
                <description>The value of the parameter.</description>
            </attribute>
        </entity_type>

        <entity_type>
            <name>timepoint</name>
            <presentation>
            <below>chromatogram(2)</below>
            <x>-3.0</x>
            <y>1.0</y>
            <deltaw>0.2</deltaw>
         </presentation>
            <dependency>
                <name>..</name>
                <type>chromatogram(2)</type>
            </dependency>
            <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>time</name>
                <type>
               <float/>
            </type>
                <identifying/>
            </attribute>
            <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>raw_intensity</name>
                <type>
               <float/>
            </type>
            </attribute>
            <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>smoothed_intensity</name>
                <type>
               <float/>
            </type>
            </attribute>
        </entity_type>

        <entity_type>
            <name>peak</name>
	        <presentation>
            <rightOf>timepoint</rightOf>
            <deltaw>0.5</deltaw>
            <deltah>0.5</deltah>
         </presentation>
	        <description>
			The identified and integrated peak within a chromatogram.
            </description>
            <dependency>
                  <type>chromatogram(2)</type>   
            <!-- will this fix code geenrator problem ? not properly modelled - meta-model inadequacy -->
            </dependency>
            <entity_type>
                <name>selected_peak</name>
                <presentation>
               <name>
                  <Split/>
               </name>
               <y>1.75</y>
               <deltah>0.25</deltah>
            </presentation>
                <dependency>
                    <name>..</name>
                    <type>chromatogram(2)</type>
                </dependency>
                <reference>
                   <name>previous</name>
                   <type>selected_peak</type>
                   <cardinality>
                  <ZeroOrOne/>
               </cardinality>
                   <diagonal>
                      <join>
                         <component>
                        <rel>..</rel>
                     </component>
                         <component>
                        <rel>based_on</rel>
                     </component>
                      </join>
                   </diagonal>
                   <riser>
                      <join>
                         <component>
                        <rel>..</rel>
                     </component>
                      </join>
                   </riser>
                   <diagram>
                       <path>
                          <srcattach>0.8</srcattach>
                          <destattach>0.5</destattach>
                          <hstep>
                        <absdim>
                           <src>0.6</src>
                        </absdim>
                     </hstep>
                          <scope>
                        <label>
                           <xAdjustment>1.4</xAdjustment>
                           <yAdjustment>0.3</yAdjustment>
                        </label>
                     </scope>
                          <id>
                        <label>
                           <xAdjustment>0.6</xAdjustment>
                        </label>
                     </id>
                       </path>
                   </diagram>
                </reference>
            </entity_type>
            <entity_type>
                <name>candidate_peak</name>
                <presentation>
               <rightOf>selected_peak</rightOf>
               <x>0.1</x>
               <y>-1.55</y>
               <name>
                  <Split/>
               </name>
            </presentation>
                <dependency>
                    <name>..</name>
                    <type>chromatogram(2)</type>
                </dependency>
            </entity_type>
 
            <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>RT</name>
                <type>
               <float/>
            </type>
                <description>This is the retention time at which scan  maximum intensity is  
                    measured during peak extent.
                </description>
            </attribute>
            <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>peakArea</name>
                <type>
               <float/>
            </type>
                <description>
                    The area of the peak calculated as the integrated (intensity less estimated baseline)
                    over time between start and end of the peak.
                </description>
            </attribute>
            <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>peakHeight</name>
                <type>
               <float/>
            </type>
                <description>This is the maximum intensity measured during peak extent.</description>
            </attribute>
            <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>chromatogramNoise</name>
                <type>
               <float/>
            </type>
                <description>This is a measure of noise in the chromatogram. 
                    Divide peak height by this value to calculate 'signal to noise' for the peak.
                </description>
            </attribute>
            <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>startRT</name>
                <type>
               <float/>
            </type>
                <description>The retention time of 
                    the first scan whose intensity is included in 
                    the calculation of the area of the peak. integrated intensity less baseline  over time) 
                    of the peak.
                </description>
            </attribute>
            <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>endRT</name>
                <type>
               <float/>
            </type>
                <description>The retention time of the final scan whose intensity is to be included in 
                    the calculation of the area (integrated intensity less estimated baseline over time) 
                    of the peak.
                </description>
            </attribute>
            <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>startHght</name>
                <type>
               <float/>
            </type>
                <description>The estimated height of the baseline at
                    the first scan whose intensity is included in 
                    the calculation of the area of the peak.
                </description>
            </attribute>
            <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>endHght</name>
                <type>
               <float/>
            </type>
                <description>The estimated height of the baseline at
                    the final scan whose intensity is included in 
                    the calculation of the area of the peak.
                </description>
            </attribute>
            <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>peakWidthHalfHeight</name>
                <type>
               <float/>
            </type>
                <description>Suggested as a measure of quality of a chromatographic peak.</description>
            </attribute>
            <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>peakSkew</name>
                <type>
               <float/>
            </type>
                <description>Suggested as a measure of quality of a chromatographic peak.</description>
            </attribute>
        </entity_type>
        <entity_type>
            <name>status</name>
            <presentation>
            <rightOf>peak</rightOf>
            <w>4.4</w>
            <deltah>2.2</deltah>
         </presentation>
            <dependency>
                <name>..</name>
                <type>chromatogram(2)</type>
            </dependency>
            <attribute xmlns:era="http://www.entitymodelling.org/ERmodel">
                <name>timestamp</name>
                <type>
               <dateTime/>
            </type>
                <description>
                    Date and time that a chromatogram was reviewed or revised.
                </description>
            </attribute>
            <reference>
                <name>method</name>
                <type>method</type>
                <cardinality>
               <ExactlyOne/>
            </cardinality>
                <diagram>
                    <path>
                        <srcattach>0.15</srcattach>
                        <destattach>0.6</destattach>
                        <destsign>1</destsign>
                        <hstep>
                     <absdim>
                        <src>10.3</src>
                     </absdim>
                  </hstep>
                        <scope>
                     <label>
                        <xAdjustment>1.75</xAdjustment>
                     </label>
                  </scope>
                        <id>
                     <label>
                        <xAdjustment>0.6</xAdjustment>
                     </label>
                  </id>
                    </path>
                </diagram>
                <diagonal>
                    <join>
                       <component>
                          <rel>..</rel>
                       </component>
                       <component>
                          <rel>..</rel>
                       </component>
                       <component>
                          <rel>..</rel>
                       </component>
                       <component>
                          <rel>..</rel>
                       </component>
                       <component>
                          <rel>..</rel>
                       </component>
                    </join>
                </diagonal>
                <riser>
                    <component>
                       <rel>..</rel>
                    </component>
                </riser>
            </reference>
            <reference>
                <name>last_reviewed</name>
                <type>interpretation_session</type>
                <cardinality>
               <ExactlyOne/>
            </cardinality>
                <diagram>
                    <path>
                        <srcattach>0.3</srcattach>
                        <destsign>1</destsign>
                        <destattach>0.6</destattach>
                        <hstep>
                     <absdim>
                        <src>12.0</src>
                     </absdim>
                  </hstep>
                        <scope>
                     <label>
                        <xAdjustment>0.75</xAdjustment>
                     </label>
                  </scope>
                        <id>
                     <label>
                        <xAdjustment>0.6</xAdjustment>
                     </label>
                  </id>
                    </path>
                </diagram>
                <diagonal>
                    <theabsolute/>
                </diagonal>
                <riser>
                    <theabsolute/>
                </riser>
            </reference>
            <reference>
                <name>last_modified</name>
                <type>interpretation_session</type>
                <cardinality>
               <ExactlyOne/>
            </cardinality>
                <diagram>
                    <path>
                        <srcattach>0.5</srcattach>
                        <destsign>1</destsign>
                        <destattach>0.4</destattach>
                        <hstep>
                     <absdim>
                        <src>12.85</src>
                     </absdim>
                  </hstep>
                        <scope>
                     <label>
                        <xAdjustment>0.75</xAdjustment>
                     </label>
                  </scope>
                        <id>
                     <label>
                        <xAdjustment>0.6</xAdjustment>
                     </label>
                  </id>
                    </path>
                </diagram>
                <diagonal>
                    <theabsolute/>
                </diagonal>
                <riser>
                    <theabsolute/>
                </riser>
            </reference>
            <reference>
               <name>previous</name>
               <type>status</type>
               <cardinality>
               <ZeroOrOne/>
            </cardinality>
               <diagonal>
                  <join>
                     <component>
                     <rel>..</rel>
                  </component>
                     <component>
                     <rel>based_on</rel>
                  </component>
                  </join>
               </diagonal>
               <riser>
                  <join>
                     <component>
                     <rel>..</rel>
                  </component>
                  </join>
               </riser>
               <diagram>
                   <path>
                      <srcattach>0.9</srcattach>
                      <destattach>0.75</destattach>
                      <hstep>
                     <absdim>
                        <src>0.6</src>
                     </absdim>
                  </hstep>
                      <scope>
                     <label>
                        <xAdjustment>1.4</xAdjustment>
                        <yAdjustment>0.3</yAdjustment>
                     </label>
                  </scope>
                      <id>
                     <label>
                        <xAdjustment>0.6</xAdjustment>
                     </label>
                  </id>
                   </path>
               </diagram>
            </reference>
 
        </entity_type>
    </group>
</entity_model>
