<ebnf>
    <include_grammar filename="xpath-3.1.EBNF.lexis.xml"/>
	<include_grammar filename="xpath-3.1.EBNF.grammar.IDL.xml"/>
	<include_mapping filename="xpath-3.1.EBNF.mapping.xml"/>

    <test>
		<rhs><nt>ExprSingle</nt></rhs>

		<testcase text="x instance of element(para)?"/>
		<testcase text=" 'xxx' treat as xs:boolean"/>
		<testcase text="'999' cast as xs:integer"/>
		<testcase text="'xxx' castable as xs:boolean"/>

		<!--
		<testcase text="$string => upper-case() => normalize-unicode() => tokenize('\s+')"/>
        <testcase text="$values!(.*.)"/>
         <testcase text="a ! b ! c"/>
		<testcase text="map {
			'ArrayConstructor' : [1,2,3] ,
			'DecimalLiteral' : 1.13 ,
			'InlineFunction' : function($a as xs:double, $b as xs:double) as xs:double { $a * $b },
			'IntegerLiteral' : 2,
			'StringLiteral'  : 'this is a string'
		 					}"/>

		<testcase text="5 instance of xs:integer"/>
		<testcase text="(5, 6) instance of xs:integer+"/>

		<testcase text="x instance of element(*)"/>
		<testcase text="x instance of document-node()*"/>
		<testcase text="$x + self::y + child::z"/>
		<testcase text="let + $B * (C + D)"/> 
		<testcase text="$x[y]"/> 
        <testcase text="a[b][c]"/> 
        <testcase text="0.95"/>
        <testcase text="1.2E3"/> 
		<testcase text="$x(a,b,c)(d,e,f)"/>
        <testcase text="$f(a,c+1)"/> 
        <testcase text="child::para[position() = 1]"/>
		<testcase text="$x(a,b,c)(d,e,f)"/>
		<testcase text="$x[y](a,b,c)"/>
		<testcase text="$x(a,b,c)[z]"/>
		<testcase text="let + $B * (C + D)"/>
		<testcase text="//a/b/c"/>
	    <testcase text="let $x := y return z"/>
		<testcase text="'this is a single quoted literal here is an escaped single quote ''. Like many literals this literal includes spaces'"/>
		<testcase text='"this is a double quoted literal here is an escaped double quote "". Like many literals this literal includes spaces."'/>
		<testcase text="$xx"/>
		<testcase text="$xyz + 0"/>
		<testcase text="$x+$y -$z ??????????"/>
		<testcase text="if (0) then 1 else 2 ????"/>
		<testcase text="if ($xx) then$yy else$zx ??????????"/>
		<testcase text="if ($xx) then $yy else $zx ??????????"/>
		<testcase text="$xx +$yy -$zz ??????????"/>
	-->
		<!--
		<errorcase text="+x"/>
		<errorcase text="-0 "/>
		<errorcase text="if$xthen$yelse$z ??????????"/>
		<errorcase text="if$xy"/>
		<errorcase text="if"/>
		<errorcase text="if"/>
	-->
	</test>
</ebnf>
